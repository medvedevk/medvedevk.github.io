!function(e){var t,i,s,r,n,c,a,u=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(u)&&u.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(i=document.createElement("source"),s=function(e){var t,s,r=e.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(t=i.cloneNode(),r.insertBefore(t,r.firstElementChild),setTimeout(function(){r.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,s=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=s}))},r=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)s(t[e])},n=function(){clearTimeout(t),t=setTimeout(r,99)},c=e.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){n(),c&&c.addListener&&c.addListener(n)},i.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),n))}(window),function(e,n,o){"use strict";var i,l,u;n.createElement("picture");var z={},c=!1,t=function(){},s=n.createElement("img"),f=s.getAttribute,d=s.setAttribute,p=s.removeAttribute,a=n.documentElement,r={},b={algorithm:""},A="data-pfsrc",m=A+"set",h=navigator.userAgent,T=/rident/.test(h)||/ecko/.test(h)&&h.match(/rv\:(\d+)/)&&35<RegExp.$1,C="currentSrc",g=/\s+\+?\d+(e\d+)?w/,v=/(\([^)]+\))?\s*(.+)/,w=e.picturefillCFG,S="font-size:100%!important;",x=!0,y={},E={},R=e.devicePixelRatio,L={px:1,in:96},M=n.createElement("a"),P=!1,D=/^[ \t\n\r\u000c]+/,B=/^[, \t\n\r\u000c]+/,I=/^[^ \t\n\r\u000c]+/,U=/[,]+$/,$=/^\d+$/,k=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,W=function(e,t,s,r){e.addEventListener?e.addEventListener(t,s,r||!1):e.attachEvent&&e.attachEvent("on"+t,s)},Q=function(t){var s={};return function(e){return e in s||(s[e]=t(e)),s[e]}};function G(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}var H,F,N,O,q,j,V,_,K,J,X,Y,Z,ee,te,se,re,ie,ne,ce=(H=/^([\d\.]+)(em|vw|px)$/,F=Q(function(e){return"return "+function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var s;if(!(e in y))if(y[e]=!1,t&&(s=e.match(H)))y[e]=s[1]*L[s[2]];else try{y[e]=new Function("e",F(e))(L)}catch(e){}return y[e]}),ae=function(e,t){return e.w?(e.cWidth=z.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ue=function(e){if(c){var t,s,r,i=e||{};if(i.elements&&1===i.elements.nodeType&&("IMG"===i.elements.nodeName.toUpperCase()?i.elements=[i.elements]:(i.context=i.elements,i.elements=null)),r=(t=i.elements||z.qsa(i.context||n,i.reevaluate||i.reselect?z.sel:z.selShort)).length){for(z.setupRun(i),P=!0,s=0;s<r;s++)z.fillImg(t[s],i);z.teardownRun(i)}}};function oe(e,t){return e.res-t.res}function le(e,t){var s,r,i;if(e&&t)for(i=z.parseSet(t),e=z.makeUrl(e),s=0;s<i.length;s++)if(e===z.makeUrl(i[s].url)){r=i[s];break}return r}e.console&&console.warn,C in s||(C="src"),r["image/jpeg"]=!0,r["image/gif"]=!0,r["image/png"]=!0,r["image/svg+xml"]=n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),z.ns=("pf"+(new Date).getTime()).substr(0,9),z.supSrcset="srcset"in s,z.supSizes="sizes"in s,z.supPicture=!!e.HTMLPictureElement,z.supSrcset&&z.supPicture&&!z.supSizes&&(N=n.createElement("img"),s.srcset="data:,a",N.src="data:,a",z.supSrcset=s.complete===N.complete,z.supPicture=z.supSrcset&&z.supPicture),z.supSrcset&&!z.supSizes?(O="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",q=n.createElement("img"),j=function(){2===q.width&&(z.supSizes=!0),l=z.supSrcset&&!z.supSizes,c=!0,setTimeout(ue)},q.onload=j,q.onerror=j,q.setAttribute("sizes","9px"),q.srcset=O+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",q.src=O):c=!0,z.selShort="picture>img,img[srcset]",z.sel=z.selShort,z.cfg=b,z.DPR=R||1,z.u=L,z.types=r,z.setSize=t,z.makeUrl=Q(function(e){return M.href=e,M.href}),z.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},z.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?z.matchesMedia=function(e){return!e||matchMedia(e).matches}:z.matchesMedia=z.mMQ,z.matchesMedia.apply(this,arguments)},z.mMQ=function(e){return!e||ce(e)},z.calcLength=function(e){var t=ce(e,!0)||!1;return t<0&&(t=!1),t},z.supportsType=function(e){return!e||r[e]},z.parseSize=Q(function(e){var t=(e||"").match(v);return{media:t&&t[1],length:t&&t[2]}}),z.parseSet=function(e){return e.cands||(e.cands=function(r,f){function e(e){var t,s=e.exec(r.substring(c));if(s)return t=s[0],c+=t.length,t}var d,p,t,s,i,n=r.length,c=0,A=[];function a(){var e,t,s,r,i,n,c,a,u,o=!1,l={};for(r=0;r<p.length;r++)n=(i=p[r])[i.length-1],c=i.substring(0,i.length-1),a=parseInt(c,10),u=parseFloat(c),$.test(c)&&"w"===n?((e||t)&&(o=!0),0===a?o=!0:e=a):k.test(c)&&"x"===n?((e||t||s)&&(o=!0),u<0?o=!0:t=u):$.test(c)&&"h"===n?((s||t)&&(o=!0),0===a?o=!0:s=a):o=!0;o||(l.url=d,e&&(l.w=e),t&&(l.d=t),s&&(l.h=s),s||t||e||(l.d=1),1===l.d&&(f.has1x=!0),l.set=f,A.push(l))}function u(){for(e(D),t="",s="in descriptor";;){if(i=r.charAt(c),"in descriptor"===s)if(G(i))t&&(p.push(t),t="",s="after descriptor");else{if(","===i)return c+=1,t&&p.push(t),void a();if("("===i)t+=i,s="in parens";else{if(""===i)return t&&p.push(t),void a();t+=i}}else if("in parens"===s)if(")"===i)t+=i,s="in descriptor";else{if(""===i)return p.push(t),void a();t+=i}else if("after descriptor"===s)if(G(i));else{if(""===i)return void a();s="in descriptor",c-=1}c+=1}}for(;;){if(e(B),n<=c)return A;d=e(I),p=[],","===d.slice(-1)?(d=d.replace(U,""),a()):u()}}(e.srcset,e)),e.cands},z.getEmValue=function(){var e;if(!i&&(e=n.body)){var t=n.createElement("div"),s=a.style.cssText,r=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",a.style.cssText=S,e.style.cssText=S,e.appendChild(t),i=t.offsetWidth,e.removeChild(t),i=parseFloat(i,10),a.style.cssText=s,e.style.cssText=r}return i||16},z.calcListLength=function(e){if(!(e in E)||b.uT){var t=z.calcLength(function(e){var t,s,r,i,n,c,a,u=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,o=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(r=(s=function(e){var t,s="",r=[],i=[],n=0,c=0,a=!1;function u(){s&&(r.push(s),s="")}function o(){r[0]&&(i.push(r),r=[])}for(;;){if(""===(t=e.charAt(c)))return u(),o(),i;if(a){if("*"===t&&"/"===e[c+1]){a=!1,c+=2,u();continue}c+=1}else{if(G(t)){if(e.charAt(c-1)&&G(e.charAt(c-1))||!s){c+=1;continue}if(0===n){u(),c+=1;continue}t=" "}else if("("===t)n+=1;else if(")"===t)n-=1;else{if(","===t){u(),o(),c+=1;continue}if("/"===t&&"*"===e.charAt(c+1)){a=!0,c+=2;continue}}s+=t,c+=1}}}(e)).length,t=0;t<r;t++)if(n=(i=s[t])[i.length-1],a=n,u.test(a)&&0<=parseFloat(a)||o.test(a)||"0"===a||"-0"===a||"+0"===a){if(c=n,i.pop(),0===i.length)return c;if(i=i.join(" "),z.matchesMedia(i))return c}return"100vw"}(e));E[e]=t||L.width}return E[e]},z.setRes=function(e){var t;if(e)for(var s=0,r=(t=z.parseSet(e)).length;s<r;s++)ae(t[s],e.sizes);return t},z.setRes.res=ae,z.applySetCandidate=function(e,t){if(e.length){var s,r,i,n,c,a,u,o,l,f,d,p,A,m,h,g,v,w,S,x,y=t[z.ns],E=z.DPR;if(a=y.curSrc||t[C],(u=y.curCan||(f=t,d=a,!(p=e[0].set)&&d&&(p=(p=f[z.ns].sets)&&p[p.length-1]),(A=le(d,p))&&(d=z.makeUrl(d),f[z.ns].curSrc=d,(f[z.ns].curCan=A).res||ae(A,A.set.sizes)),A))&&u.set===e[0].set&&((l=T&&!t.complete&&u.res-.1>E)||(u.cached=!0,u.res>=E&&(c=u))),!c)for(e.sort(oe),c=e[(n=e.length)-1],r=0;r<n;r++)if((s=e[r]).res>=E){c=e[i=r-1]&&(l||a!==z.makeUrl(s.url))&&(m=e[i].res,h=s.res,g=E,v=e[i].cached,x=S=w=void 0,"saveData"===b.algorithm?2.7<m?x=g+1:(S=(h-g)*(w=Math.pow(m-.6,1.5)),v&&(S+=.1*w),x=m+S):x=1<g?Math.sqrt(m*h):m,g<x)?e[i]:s;break}c&&(o=z.makeUrl(c.url),y.curSrc=o,y.curCan=c,o!==a&&z.setSrc(t,c),z.setSize(t))}},z.setSrc=function(e,t){var s;e.src=t.url,"image/svg+xml"===t.set.type&&(s=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=s))},z.getSet=function(e){var t,s,r,i=!1,n=e[z.ns].sets;for(t=0;t<n.length&&!i;t++)if((s=n[t]).srcset&&z.matchesMedia(s.media)&&(r=z.supportsType(s.type))){"pending"===r&&(s=r),i=s;break}return i},z.parseSets=function(e,t,s){var r,i,n,c,a=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[z.ns];(u.src===o||s.src)&&(u.src=f.call(e,"src"),u.src?d.call(e,A,u.src):p.call(e,A)),(u.srcset===o||s.srcset||!z.supSrcset||e.srcset)&&(r=f.call(e,"srcset"),u.srcset=r,c=!0),u.sets=[],a&&(u.pic=!0,function(e,t){var s,r,i,n,c=e.getElementsByTagName("source");for(s=0,r=c.length;s<r;s++)(i=c[s])[z.ns]=!0,(n=i.getAttribute("srcset"))&&t.push({srcset:n,media:i.getAttribute("media"),type:i.getAttribute("type"),sizes:i.getAttribute("sizes")})}(t,u.sets)),u.srcset?(i={srcset:u.srcset,sizes:f.call(e,"sizes")},u.sets.push(i),(n=(l||u.src)&&g.test(u.srcset||""))||!u.src||le(u.src,i)||i.has1x||(i.srcset+=", "+u.src,i.cands.push({url:u.src,d:1,set:i}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=o,u.supported=!(a||i&&!z.supSrcset||n&&!z.supSizes),c&&z.supSrcset&&!u.supported&&(r?(d.call(e,m,r),e.srcset=""):p.call(e,m)),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==z.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},z.fillImg=function(e,t){var s,r,i,n,c,a=t.reselect||t.reevaluate;(e[z.ns]||(e[z.ns]={}),s=e[z.ns],a||s.evaled!==u)&&(s.parsed&&!t.reevaluate||z.parseSets(e,e.parentNode,t),s.supported?s.evaled=u:(r=e,n=z.getSet(r),c=!1,"pending"!==n&&(c=u,n&&(i=z.setRes(n),z.applySetCandidate(i,r))),r[z.ns].evaled=c))},z.setupRun=function(){P&&!x&&R===e.devicePixelRatio||(x=!1,R=e.devicePixelRatio,y={},E={},z.DPR=R||1,L.width=Math.max(e.innerWidth||0,a.clientWidth),L.height=Math.max(e.innerHeight||0,a.clientHeight),L.vw=L.width/100,L.vh=L.height/100,u=[L.height,L.width,R].join("-"),L.em=z.getEmValue(),L.rem=L.em)},z.supPicture?(ue=t,z.fillImg=t):(Z=e.attachEvent?/d$|^c/:/d$|^c|^i/,ee=function(){var e=n.readyState||"";te=setTimeout(ee,"loading"===e?200:999),n.body&&(z.fillImgs(),(V=V||Z.test(e))&&clearTimeout(te))},te=setTimeout(ee,n.body?9:99),se=a.clientHeight,W(e,"resize",(_=function(){x=Math.max(e.innerWidth||0,a.clientWidth)!==L.width||a.clientHeight!==se,se=a.clientHeight,x&&z.fillImgs()},K=99,Y=function(){var e=new Date-X;e<K?J=setTimeout(Y,K-e):(J=null,_())},function(){X=new Date,J||(J=setTimeout(Y,K))})),W(n,"readystatechange",ee)),z.picturefill=ue,z.fillImgs=ue,z.teardownRun=t,ue._=z,e.picturefillCFG={pf:z,push:function(e){var t=e.shift();"function"==typeof z[t]?z[t].apply(z,e):(b[t]=e[0],P&&z.fillImgs({reselect:!0}))}};for(;w&&w.length;)e.picturefillCFG.push(w.shift());e.picturefill=ue,"object"==typeof module&&"object"==typeof module.exports?module.exports=ue:"function"==typeof define&&define.amd&&define("picturefill",function(){return ue}),z.supPicture||(r["image/webp"]=(re="image/webp",ie="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(ne=new e.Image).onerror=function(){r[re]=!1,ue()},ne.onload=function(){r[re]=1===ne.width,ue()},ne.src=ie,"pending"))}(window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnMvcGljdHVyZWZpbGwuanMiXSwibmFtZXMiOlsid2luZG93IiwidGltZXIiLCJkdW1teVNyYyIsImZpeFJlc3BpbWciLCJmaW5kUGljdHVyZUltZ3MiLCJvblJlc2l6ZSIsIm1xIiwiaW5pdCIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiSFRNTFBpY3R1cmVFbGVtZW50IiwidGVzdCIsIm1hdGNoIiwiUmVnRXhwIiwiJDEiLCJhZGRFdmVudExpc3RlbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW1nIiwic291cmNlIiwic2l6ZXMiLCJwaWN0dXJlIiwicGFyZW50Tm9kZSIsIm5vZGVOYW1lIiwidG9VcHBlckNhc2UiLCJjbG9uZU5vZGUiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsInNldFRpbWVvdXQiLCJyZW1vdmVDaGlsZCIsIl9wZkxhc3RTaXplIiwib2Zmc2V0V2lkdGgiLCJpIiwiaW1ncyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJjbGVhclRpbWVvdXQiLCJtYXRjaE1lZGlhIiwiYWRkTGlzdGVuZXIiLCJzcmNzZXQiLCJyZWFkeVN0YXRlIiwidW5kZWZpbmVkIiwiZW1pbnB4IiwiYWx3YXlzQ2hlY2tXRGVzY3JpcHRvciIsImV2YWxJZCIsInBmIiwiaXNTdXBwb3J0VGVzdFJlYWR5Iiwibm9vcCIsImltYWdlIiwiZ2V0SW1nQXR0ciIsImdldEF0dHJpYnV0ZSIsInNldEltZ0F0dHIiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVJbWdBdHRyIiwicmVtb3ZlQXR0cmlidXRlIiwiZG9jRWxlbSIsImRvY3VtZW50RWxlbWVudCIsInR5cGVzIiwiY2ZnIiwiYWxnb3JpdGhtIiwic3JjQXR0ciIsInNyY3NldEF0dHIiLCJzdXBwb3J0QWJvcnQiLCJjdXJTcmNQcm9wIiwicmVnV0Rlc2MiLCJyZWdTaXplIiwic2V0T3B0aW9ucyIsInBpY3R1cmVmaWxsQ0ZHIiwiZnNDc3MiLCJpc1Z3RGlydHkiLCJjc3NDYWNoZSIsInNpemVMZW5ndGhDYWNoZSIsIkRQUiIsImRldmljZVBpeGVsUmF0aW8iLCJ1bml0cyIsInB4IiwiaW4iLCJhbmNob3IiLCJhbHJlYWR5UnVuIiwicmVnZXhMZWFkaW5nU3BhY2VzIiwicmVnZXhMZWFkaW5nQ29tbWFzT3JTcGFjZXMiLCJyZWdleExlYWRpbmdOb3RTcGFjZXMiLCJyZWdleFRyYWlsaW5nQ29tbWFzIiwicmVnZXhOb25OZWdhdGl2ZUludGVnZXIiLCJyZWdleEZsb2F0aW5nUG9pbnQiLCJvbiIsIm9iaiIsImV2dCIsImZuIiwiY2FwdHVyZSIsImF0dGFjaEV2ZW50IiwibWVtb2l6ZSIsImNhY2hlIiwiaW5wdXQiLCJpc1NwYWNlIiwiYyIsInJlZ0xlbmd0aCIsImJ1aWxkU3RyIiwiaW1hZ2UyIiwid2lkdGgxIiwiaXNEb21SZWFkeSIsImZ1bmMiLCJ3YWl0IiwidGltZW91dCIsInRpbWVzdGFtcCIsImxhdGVyIiwicmVnUmVhZHkiLCJydW4iLCJ0aW1lcklkIiwibGFzdENsaWVudFdpZHRoIiwidHlwZSIsInR5cGVVcmkiLCJldmFsQ1NTIiwiY3NzIiwiYXJncyIsImFyZ3VtZW50cyIsImluZGV4Iiwic3RyaW5nIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwicGFyc2VkTGVuZ3RoIiwiRnVuY3Rpb24iLCJlIiwic2V0UmVzb2x1dGlvbiIsImNhbmRpZGF0ZSIsInNpemVzYXR0ciIsInciLCJjV2lkdGgiLCJjYWxjTGlzdExlbmd0aCIsInJlcyIsImQiLCJwaWN0dXJlZmlsbCIsIm9wdCIsImVsZW1lbnRzIiwicGxlbiIsIm9wdGlvbnMiLCJub2RlVHlwZSIsImNvbnRleHQiLCJxc2EiLCJyZWV2YWx1YXRlIiwicmVzZWxlY3QiLCJzZWwiLCJzZWxTaG9ydCIsInNldHVwUnVuIiwiZmlsbEltZyIsInRlYXJkb3duUnVuIiwiYXNjZW5kaW5nU29ydCIsImEiLCJiIiwiZ2V0Q2FuZGlkYXRlRm9yU3JjIiwic3JjIiwic2V0IiwiY2FuZGlkYXRlcyIsInBhcnNlU2V0IiwibWFrZVVybCIsInVybCIsImNvbnNvbGUiLCJ3YXJuIiwiaW1wbGVtZW50YXRpb24iLCJoYXNGZWF0dXJlIiwibnMiLCJEYXRlIiwiZ2V0VGltZSIsInN1YnN0ciIsInN1cFNyY3NldCIsInN1cFNpemVzIiwic3VwUGljdHVyZSIsImNvbXBsZXRlIiwid2lkdGgiLCJvbmxvYWQiLCJvbmVycm9yIiwidSIsInNldFNpemUiLCJocmVmIiwibWF0Y2hlc01lZGlhIiwibWF0Y2hlcyIsIm1lZGlhIiwibU1RIiwiYXBwbHkiLCJ0aGlzIiwiY2FsY0xlbmd0aCIsInNvdXJjZVNpemVWYWx1ZSIsInZhbHVlIiwic3VwcG9ydHNUeXBlIiwicGFyc2VTaXplIiwic291cmNlU2l6ZVN0ciIsImNhbmRzIiwiY29sbGVjdENoYXJhY3RlcnMiLCJyZWdFeCIsImNoYXJzIiwiZXhlYyIsInN1YnN0cmluZyIsInBvcyIsImRlc2NyaXB0b3JzIiwiY3VycmVudERlc2NyaXB0b3IiLCJzdGF0ZSIsImlucHV0TGVuZ3RoIiwicGFyc2VEZXNjcmlwdG9ycyIsImgiLCJkZXNjIiwibGFzdENoYXIiLCJpbnRWYWwiLCJmbG9hdFZhbCIsInBFcnJvciIsInBhcnNlSW50IiwicGFyc2VGbG9hdCIsImhhczF4IiwicHVzaCIsInRva2VuaXplIiwiY2hhckF0Iiwic2xpY2UiLCJwYXJzZVNyY3NldCIsImdldEVtVmFsdWUiLCJib2R5IiwiZGl2Iiwib3JpZ2luYWxIVE1MQ1NTIiwic3R5bGUiLCJjc3NUZXh0Iiwib3JpZ2luYWxCb2R5Q1NTIiwiYXBwZW5kQ2hpbGQiLCJzb3VyY2VTaXplTGlzdFN0ciIsInVUIiwid2lubmluZ0xlbmd0aCIsInN0clZhbHVlIiwidW5wYXJzZWRTaXplc0xpc3QiLCJ1bnBhcnNlZFNpemVzTGlzdExlbmd0aCIsInVucGFyc2VkU2l6ZSIsImxhc3RDb21wb25lbnRWYWx1ZSIsInNpemUiLCJzIiwicmVnZXhDc3NMZW5ndGhXaXRoVW5pdHMiLCJyZWdleENzc0NhbGMiLCJzdHIiLCJjaHJjdHIiLCJjb21wb25lbnQiLCJjb21wb25lbnRBcnJheSIsImxpc3RBcnJheSIsInBhcmVuRGVwdGgiLCJpbkNvbW1lbnQiLCJwdXNoQ29tcG9uZW50IiwicHVzaENvbXBvbmVudEFycmF5IiwicGFyc2VDb21wb25lbnRWYWx1ZXMiLCJwb3AiLCJqb2luIiwicGFyc2VTaXplcyIsInNldFJlcyIsImxlbiIsImFwcGx5U2V0Q2FuZGlkYXRlIiwiaiIsImJlc3RDYW5kaWRhdGUiLCJjdXJTcmMiLCJjdXJDYW4iLCJjYW5kaWRhdGVTcmMiLCJhYm9ydEN1clNyYyIsImxvd2VyVmFsdWUiLCJoaWdoZXJWYWx1ZSIsImRwclZhbHVlIiwiaXNDYWNoZWQiLCJib251c0ZhY3RvciIsImJvbnVzIiwibWVhbkRlbnNpdHkiLCJpbWFnZURhdGEiLCJkcHIiLCJzZXRzIiwiY2FjaGVkIiwic29ydCIsIk1hdGgiLCJwb3ciLCJzcXJ0Iiwic2V0U3JjIiwib3JpZ1dpZHRoIiwiZ2V0U2V0IiwicGFyc2VTZXRzIiwiZWxlbWVudCIsInBhcmVudCIsInNyY3NldEF0dHJpYnV0ZSIsImltYWdlU2V0IiwiaXNXRGVzY3JpcG9yIiwic3Jjc2V0UGFyc2VkIiwiaGFzUGljdHVyZSIsImNhbGwiLCJwaWMiLCJzb3VyY2VzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRBbGxTb3VyY2VFbGVtZW50cyIsInN1cHBvcnRlZCIsInBhcnNlZCIsInNyY1NldENhbmRpZGF0ZXMiLCJtYXRjaGluZ1NldCIsImV2YWx1YXRlZCIsImV4dHJlbWUiLCJldmFsZWQiLCJtYXgiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImNsaWVudEhlaWdodCIsInZ3IiwidmgiLCJlbSIsInJlbSIsImZpbGxJbWdzIiwibGFzdCIsIl8iLCJuYW1lIiwic2hpZnQiLCJtb2R1bGUiLCJleHBvcnRzIiwiZGVmaW5lIiwiYW1kIiwiSW1hZ2UiXSwibWFwcGluZ3MiOiJDQVNBLFNBQVVBLEdBRVIsSUFJUUMsRUFFQUMsRUFF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QUFRL0wsRUFBSyxHQUNicEMsR0FDRmpDLEVBQUdpUSxVQUFZbEssVUFBVSxPQU1qQyxLQUFPMUUsR0FBY0EsRUFBVy9CLFFBQzlCcEMsRUFBT29FLGVBQWU0SSxLQUFLN0ksRUFBV2dQLFNBSXhDblQsRUFBT29JLFlBQWNBLEdBR0UsaUJBQVhnTCxRQUFpRCxpQkFBbkJBLE9BQU9DLFFBRS9DRCxPQUFPQyxRQUFVakwsR0FDVyxtQkFBWGtMLFFBQXlCQSxPQUFPQyxLQUVqREQsT0FBUSxjQUFlLFdBQWEsT0FBT2xMLEtBSXZDdEYsRUFBR3lILGFBQ1A3RyxFQUFPLGVBNXNDbUJxRCxHQTRzQ2dCLGFBNXNDVkMsR0E0c0N3QiwySUF6c0NwRC9ELEdBQVEsSUFBSWpELEVBQU93VCxPQUNqQjdJLFFBQVUsV0FDZGpILEVBQU9xRCxLQUFTLEVBQ2hCcUIsTUFFRm5GLEdBQU15SCxPQUFTLFdBQ2JoSCxFQUFPcUQsSUFBeUIsSUFBaEI5RCxHQUFNd0gsTUFDdEJyQyxNQUVGbkYsR0FBTXNHLElBQU12QyxHQUNMLFlBdFBYLENBdzdDS2hILE9BQVFpQiIsImZpbGUiOiJsaWJzL3BpY3R1cmVmaWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBwaWN0dXJlZmlsbCAtIHYzLjAuMiAtIDIwMTYtMDItMTJcbiAqIGh0dHBzOi8vc2NvdHRqZWhsLmdpdGh1Yi5pby9waWN0dXJlZmlsbC9cbiAqIENvcHlyaWdodCAoYykgMjAxNiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRqZWhsL3BpY3R1cmVmaWxsL2Jsb2IvbWFzdGVyL0F1dGhvcnMudHh0OyBMaWNlbnNlZCBNSVRcbiAqL1xuLyohIEdlY2tvLVBpY3R1cmUgLSB2MS4wXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRqZWhsL3BpY3R1cmVmaWxsL3RyZWUvMy4wL3NyYy9wbHVnaW5zL2dlY2tvLXBpY3R1cmVcbiAqIEZpcmVmb3gncyBlYXJseSBwaWN0dXJlIGltcGxlbWVudGF0aW9uIChwcmlvciB0byBGRjQxKSBpcyBzdGF0aWMgYW5kIGRvZXNcbiAqIG5vdCByZWFjdCB0byB2aWV3cG9ydCBjaGFuZ2VzLiBUaGlzIHRpbnkgbW9kdWxlIGZpeGVzIHRoaXMuXG4gKi9cbihmdW5jdGlvbih3aW5kb3cpIHtcbiAgLypqc2hpbnQgZXFudWxsOnRydWUgKi9cbiAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuICBpZiAoIHdpbmRvdy5IVE1MUGljdHVyZUVsZW1lbnQgJiYgKCgvZWNrby8pLnRlc3QodWEpICYmIHVhLm1hdGNoKC9ydlxcOihcXGQrKS8pICYmIFJlZ0V4cC4kMSA8IDQ1KSApIHtcbiAgICBhZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0aW1lcjtcblxuICAgICAgdmFyIGR1bW15U3JjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNvdXJjZVwiKTtcblxuICAgICAgdmFyIGZpeFJlc3BpbWcgPSBmdW5jdGlvbihpbWcpIHtcbiAgICAgICAgdmFyIHNvdXJjZSwgc2l6ZXM7XG4gICAgICAgIHZhciBwaWN0dXJlID0gaW1nLnBhcmVudE5vZGU7XG5cbiAgICAgICAgaWYgKHBpY3R1cmUubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJQSUNUVVJFXCIpIHtcbiAgICAgICAgICBzb3VyY2UgPSBkdW1teVNyYy5jbG9uZU5vZGUoKTtcblxuICAgICAgICAgIHBpY3R1cmUuaW5zZXJ0QmVmb3JlKHNvdXJjZSwgcGljdHVyZS5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHBpY3R1cmUucmVtb3ZlQ2hpbGQoc291cmNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICghaW1nLl9wZkxhc3RTaXplIHx8IGltZy5vZmZzZXRXaWR0aCA+IGltZy5fcGZMYXN0U2l6ZSkge1xuICAgICAgICAgIGltZy5fcGZMYXN0U2l6ZSA9IGltZy5vZmZzZXRXaWR0aDtcbiAgICAgICAgICBzaXplcyA9IGltZy5zaXplcztcbiAgICAgICAgICBpbWcuc2l6ZXMgKz0gXCIsMTAwdndcIjtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW1nLnNpemVzID0gc2l6ZXM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBmaW5kUGljdHVyZUltZ3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBpbWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInBpY3R1cmUgPiBpbWcsIGltZ1tzcmNzZXRdW3NpemVzXVwiKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGltZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmaXhSZXNwaW1nKGltZ3NbaV0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmaW5kUGljdHVyZUltZ3MsIDk5KTtcbiAgICAgIH07XG4gICAgICB2YXIgbXEgPSB3aW5kb3cubWF0Y2hNZWRpYSAmJiBtYXRjaE1lZGlhKFwiKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpXCIpO1xuICAgICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb25SZXNpemUoKTtcblxuICAgICAgICBpZiAobXEgJiYgbXEuYWRkTGlzdGVuZXIpIHtcbiAgICAgICAgICBtcS5hZGRMaXN0ZW5lcihvblJlc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGR1bW15U3JjLnNyY3NldCA9IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT1cIjtcblxuICAgICAgaWYgKC9eW2N8aV18ZCQvLnRlc3QoZG9jdW1lbnQucmVhZHlTdGF0ZSB8fCBcIlwiKSkge1xuICAgICAgICBpbml0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uUmVzaXplO1xuICAgIH0pKCkpO1xuICB9XG59KSh3aW5kb3cpO1xuXG4vKiEgUGljdHVyZWZpbGwgLSB2My4wLjJcbiAqIGh0dHA6Ly9zY290dGplaGwuZ2l0aHViLmlvL3BpY3R1cmVmaWxsXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUgaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0amVobC9waWN0dXJlZmlsbC9ibG9iL21hc3Rlci9BdXRob3JzLnR4dDtcbiAqICBMaWNlbnNlOiBNSVRcbiAqL1xuXG4oZnVuY3Rpb24oIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcbiAgLy8gRW5hYmxlIHN0cmljdCBtb2RlXG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8vIEhUTUwgc2hpbXx2IGl0IGZvciBvbGQgSUUgKElFOSB3aWxsIHN0aWxsIG5lZWQgdGhlIEhUTUwgdmlkZW8gdGFnIHdvcmthcm91bmQpXG4gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwicGljdHVyZVwiICk7XG5cbiAgdmFyIHdhcm4sIGVtaW5weCwgYWx3YXlzQ2hlY2tXRGVzY3JpcHRvciwgZXZhbElkO1xuICAvLyBsb2NhbCBvYmplY3QgZm9yIG1ldGhvZCByZWZlcmVuY2VzIGFuZCB0ZXN0aW5nIGV4cG9zdXJlXG4gIHZhciBwZiA9IHt9O1xuICB2YXIgaXNTdXBwb3J0VGVzdFJlYWR5ID0gZmFsc2U7XG4gIHZhciBub29wID0gZnVuY3Rpb24oKSB7fTtcbiAgdmFyIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbWdcIiApO1xuICB2YXIgZ2V0SW1nQXR0ciA9IGltYWdlLmdldEF0dHJpYnV0ZTtcbiAgdmFyIHNldEltZ0F0dHIgPSBpbWFnZS5zZXRBdHRyaWJ1dGU7XG4gIHZhciByZW1vdmVJbWdBdHRyID0gaW1hZ2UucmVtb3ZlQXR0cmlidXRlO1xuICB2YXIgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgdmFyIHR5cGVzID0ge307XG4gIHZhciBjZmcgPSB7XG4gICAgLy9yZXNvdXJjZSBzZWxlY3Rpb246XG4gICAgYWxnb3JpdGhtOiBcIlwiXG4gIH07XG4gIHZhciBzcmNBdHRyID0gXCJkYXRhLXBmc3JjXCI7XG4gIHZhciBzcmNzZXRBdHRyID0gc3JjQXR0ciArIFwic2V0XCI7XG4gIC8vIHVhIHNuaWZmaW5nIGlzIGRvbmUgZm9yIHVuZGV0ZWN0YWJsZSBpbWcgbG9hZGluZyBmZWF0dXJlcyxcbiAgLy8gdG8gZG8gc29tZSBub24gY3J1Y2lhbCBwZXJmIG9wdGltaXphdGlvbnNcbiAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgdmFyIHN1cHBvcnRBYm9ydCA9ICgvcmlkZW50LykudGVzdCh1YSkgfHwgKCgvZWNrby8pLnRlc3QodWEpICYmIHVhLm1hdGNoKC9ydlxcOihcXGQrKS8pICYmIFJlZ0V4cC4kMSA+IDM1ICk7XG4gIHZhciBjdXJTcmNQcm9wID0gXCJjdXJyZW50U3JjXCI7XG4gIHZhciByZWdXRGVzYyA9IC9cXHMrXFwrP1xcZCsoZVxcZCspP3cvO1xuICB2YXIgcmVnU2l6ZSA9IC8oXFwoW14pXStcXCkpP1xccyooLispLztcbiAgdmFyIHNldE9wdGlvbnMgPSB3aW5kb3cucGljdHVyZWZpbGxDRkc7XG4gIC8qKlxuICAgKiBTaG9ydGN1dCBwcm9wZXJ0eSBmb3IgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3dlYmFwcHNlYy9zcGVjcy9taXhlZGNvbnRlbnQvI3Jlc3RyaWN0cy1taXhlZC1jb250ZW50ICggZm9yIGVhc3kgb3ZlcnJpZGluZyBpbiB0ZXN0cyApXG4gICAqL1xuICAvLyBiYXNlU3R5bGUgYWxzbyB1c2VkIGJ5IGdldEVtVmFsdWUgKGkuZS46IHdpZHRoOiAxZW0gaXMgaW1wb3J0YW50KVxuICB2YXIgYmFzZVN0eWxlID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dmlzaWJpbGl0eTpoaWRkZW47ZGlzcGxheTpibG9jaztwYWRkaW5nOjA7Ym9yZGVyOm5vbmU7Zm9udC1zaXplOjFlbTt3aWR0aDoxZW07b3ZlcmZsb3c6aGlkZGVuO2NsaXA6cmVjdCgwcHgsIDBweCwgMHB4LCAwcHgpXCI7XG4gIHZhciBmc0NzcyA9IFwiZm9udC1zaXplOjEwMCUhaW1wb3J0YW50O1wiO1xuICB2YXIgaXNWd0RpcnR5ID0gdHJ1ZTtcblxuICB2YXIgY3NzQ2FjaGUgPSB7fTtcbiAgdmFyIHNpemVMZW5ndGhDYWNoZSA9IHt9O1xuICB2YXIgRFBSID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gIHZhciB1bml0cyA9IHtcbiAgICBweDogMSxcbiAgICBcImluXCI6IDk2XG4gIH07XG4gIHZhciBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuICAvKipcbiAgICogYWxyZWFkeVJ1biBmbGFnIHVzZWQgZm9yIHNldE9wdGlvbnMuIGlzIGl0IHRydWUgc2V0T3B0aW9ucyB3aWxsIHJlZXZhbHVhdGVcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICB2YXIgYWxyZWFkeVJ1biA9IGZhbHNlO1xuXG4gIC8vIFJldXNhYmxlLCBub24tXCJnXCIgUmVnZXhlc1xuXG4gIC8vIChEb24ndCB1c2UgXFxzLCB0byBhdm9pZCBtYXRjaGluZyBub24tYnJlYWtpbmcgc3BhY2UuKVxuICB2YXIgcmVnZXhMZWFkaW5nU3BhY2VzID0gL15bIFxcdFxcblxcclxcdTAwMGNdKy8sXG4gICAgICByZWdleExlYWRpbmdDb21tYXNPclNwYWNlcyA9IC9eWywgXFx0XFxuXFxyXFx1MDAwY10rLyxcbiAgICAgIHJlZ2V4TGVhZGluZ05vdFNwYWNlcyA9IC9eW14gXFx0XFxuXFxyXFx1MDAwY10rLyxcbiAgICAgIHJlZ2V4VHJhaWxpbmdDb21tYXMgPSAvWyxdKyQvLFxuICAgICAgcmVnZXhOb25OZWdhdGl2ZUludGVnZXIgPSAvXlxcZCskLyxcblxuICAgICAgLy8gKCBQb3NpdGl2ZSBvciBuZWdhdGl2ZSBvciB1bnNpZ25lZCBpbnRlZ2VycyBvciBkZWNpbWFscywgd2l0aG91dCBvciB3aXRob3V0IGV4cG9uZW50cy5cbiAgICAgIC8vIE11c3QgaW5jbHVkZSBhdCBsZWFzdCBvbmUgZGlnaXQuXG4gICAgICAvLyBBY2NvcmRpbmcgdG8gc3BlYyB0ZXN0cyBhbnkgZGVjaW1hbCBwb2ludCBtdXN0IGJlIGZvbGxvd2VkIGJ5IGEgZGlnaXQuXG4gICAgICAvLyBObyBsZWFkaW5nIHBsdXMgc2lnbiBpcyBhbGxvd2VkLilcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZnJhc3RydWN0dXJlLmh0bWwjdmFsaWQtZmxvYXRpbmctcG9pbnQtbnVtYmVyXG4gICAgICByZWdleEZsb2F0aW5nUG9pbnQgPSAvXi0/KD86WzAtOV0rfFswLTldKlxcLlswLTldKykoPzpbZUVdWystXT9bMC05XSspPyQvO1xuXG4gIHZhciBvbiA9IGZ1bmN0aW9uKG9iaiwgZXZ0LCBmbiwgY2FwdHVyZSkge1xuICAgIGlmICggb2JqLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG4gICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcihldnQsIGZuLCBjYXB0dXJlIHx8IGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKCBvYmouYXR0YWNoRXZlbnQgKSB7XG4gICAgICBvYmouYXR0YWNoRXZlbnQoIFwib25cIiArIGV2dCwgZm4pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogc2ltcGxlIG1lbW9pemUgZnVuY3Rpb246XG4gICAqL1xuXG4gIHZhciBtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcbiAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIGlmICggIShpbnB1dCBpbiBjYWNoZSkgKSB7XG4gICAgICAgIGNhY2hlWyBpbnB1dCBdID0gZm4oaW5wdXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlWyBpbnB1dCBdO1xuICAgIH07XG4gIH07XG5cbiAgLy8gVVRJTElUWSBGVU5DVElPTlNcblxuICAvLyBNYW51YWwgaXMgZmFzdGVyIHRoYW4gUmVnRXhcbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vd2hpdGVzcGFjZS1jaGFyYWN0ZXIvNVxuICBmdW5jdGlvbiBpc1NwYWNlKGMpIHtcbiAgICByZXR1cm4gKGMgPT09IFwiXFx1MDAyMFwiIHx8IC8vIHNwYWNlXG4gICAgICAgICAgICBjID09PSBcIlxcdTAwMDlcIiB8fCAvLyBob3Jpem9udGFsIHRhYlxuICAgICAgICAgICAgYyA9PT0gXCJcXHUwMDBBXCIgfHwgLy8gbmV3IGxpbmVcbiAgICAgICAgICAgIGMgPT09IFwiXFx1MDAwQ1wiIHx8IC8vIGZvcm0gZmVlZFxuICAgICAgICAgICAgYyA9PT0gXCJcXHUwMDBEXCIpOyAgLy8gY2FycmlhZ2UgcmV0dXJuXG4gIH1cblxuICAvKipcbiAgICogZ2V0cyBhIG1lZGlhcXVlcnkgYW5kIHJldHVybnMgYSBib29sZWFuIG9yIGdldHMgYSBjc3MgbGVuZ3RoIGFuZCByZXR1cm5zIGEgbnVtYmVyXG4gICAqIEBwYXJhbSBjc3MgbWVkaWFxdWVyaWVzIG9yIGNzcyBsZW5ndGhcbiAgICogQHJldHVybnMge2Jvb2xlYW58bnVtYmVyfVxuICAgKlxuICAgKiBiYXNlZCBvbjogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vam9uYXRoYW50bmVhbC9kYjRmNzcwMDliMTU1ZjA4MzczOFxuICAgKi9cbiAgdmFyIGV2YWxDU1MgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgcmVnTGVuZ3RoID0gL14oW1xcZFxcLl0rKShlbXx2d3xweCkkLztcbiAgICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsIGluZGV4ID0gMCwgc3RyaW5nID0gYXJnc1swXTtcbiAgICAgIHdoaWxlICgrK2luZGV4IGluIGFyZ3MpIHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoYXJnc1tpbmRleF0sIGFyZ3NbKytpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9O1xuXG4gICAgdmFyIGJ1aWxkU3RyID0gbWVtb2l6ZShmdW5jdGlvbihjc3MpIHtcblxuICAgICAgcmV0dXJuIFwicmV0dXJuIFwiICsgcmVwbGFjZSgoY3NzIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgIC8vIGludGVycHJldCBgYW5kYFxuICAgICAgICAvXFxiYW5kXFxiL2csIFwiJiZcIixcblxuICAgICAgICAvLyBpbnRlcnByZXQgYCxgXG4gICAgICAgIC8sL2csIFwifHxcIixcblxuICAgICAgICAvLyBpbnRlcnByZXQgYG1pbi1gIGFzID49XG4gICAgICAgIC9taW4tKFthLXotXFxzXSspOi9nLCBcImUuJDE+PVwiLFxuXG4gICAgICAgIC8vIGludGVycHJldCBgbWF4LWAgYXMgPD1cbiAgICAgICAgL21heC0oW2Etei1cXHNdKyk6L2csIFwiZS4kMTw9XCIsXG5cbiAgICAgICAgLy9jYWxjIHZhbHVlXG4gICAgICAgIC9jYWxjKFteKV0rKS9nLCBcIigkMSlcIixcblxuICAgICAgICAvLyBpbnRlcnByZXQgY3NzIHZhbHVlc1xuICAgICAgICAvKFxcZCtbXFwuXSpbXFxkXSopKFthLXpdKykvZywgXCIoJDEgKiBlLiQyKVwiLFxuICAgICAgICAvL21ha2UgZXZhbCBsZXNzIGV2aWxcbiAgICAgICAgL14oPyEoZS5bYS16XXxbMC05XFwuJj18PjxcXCtcXC1cXCpcXChcXClcXC9dKSkuKi9pZywgXCJcIlxuICAgICAgKSArIFwiO1wiO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNzcywgbGVuZ3RoKSB7XG4gICAgICB2YXIgcGFyc2VkTGVuZ3RoO1xuICAgICAgaWYgKCEoY3NzIGluIGNzc0NhY2hlKSkge1xuICAgICAgICBjc3NDYWNoZVtjc3NdID0gZmFsc2U7XG4gICAgICAgIGlmIChsZW5ndGggJiYgKHBhcnNlZExlbmd0aCA9IGNzcy5tYXRjaCggcmVnTGVuZ3RoICkpKSB7XG4gICAgICAgICAgY3NzQ2FjaGVbY3NzXSA9IHBhcnNlZExlbmd0aFsgMSBdICogdW5pdHNbcGFyc2VkTGVuZ3RoWyAyIF1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8qanNoaW50IGV2aWw6dHJ1ZSAqL1xuICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgIGNzc0NhY2hlW2Nzc10gPSBuZXcgRnVuY3Rpb24oXCJlXCIsIGJ1aWxkU3RyKGNzcykpKHVuaXRzKTtcbiAgICAgICAgICB9IGNhdGNoKGUpIHt9XG4gICAgICAgICAgLypqc2hpbnQgZXZpbDpmYWxzZSAqL1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY3NzQ2FjaGVbY3NzXTtcbiAgICB9O1xuICB9KSgpO1xuXG4gIHZhciBzZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24oIGNhbmRpZGF0ZSwgc2l6ZXNhdHRyICkge1xuICAgIGlmICggY2FuZGlkYXRlLncgKSB7IC8vIGggPSBtZWFucyBoZWlnaHQ6IHx8IGRlc2NyaXB0b3IudHlwZSA9PT0gJ2gnIGRvIG5vdCBoYW5kbGUgeWV0Li4uXG4gICAgICBjYW5kaWRhdGUuY1dpZHRoID0gcGYuY2FsY0xpc3RMZW5ndGgoIHNpemVzYXR0ciB8fCBcIjEwMHZ3XCIgKTtcbiAgICAgIGNhbmRpZGF0ZS5yZXMgPSBjYW5kaWRhdGUudyAvIGNhbmRpZGF0ZS5jV2lkdGggO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW5kaWRhdGUucmVzID0gY2FuZGlkYXRlLmQ7XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGU7XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBvcHRcbiAgICovXG4gIHZhciBwaWN0dXJlZmlsbCA9IGZ1bmN0aW9uKCBvcHQgKSB7XG5cbiAgICBpZiAoIWlzU3VwcG9ydFRlc3RSZWFkeSkge3JldHVybjt9XG5cbiAgICB2YXIgZWxlbWVudHMsIGksIHBsZW47XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdCB8fCB7fTtcblxuICAgIGlmICggb3B0aW9ucy5lbGVtZW50cyAmJiBvcHRpb25zLmVsZW1lbnRzLm5vZGVUeXBlID09PSAxICkge1xuICAgICAgaWYgKCBvcHRpb25zLmVsZW1lbnRzLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiSU1HXCIgKSB7XG4gICAgICAgIG9wdGlvbnMuZWxlbWVudHMgPSAgWyBvcHRpb25zLmVsZW1lbnRzIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLmNvbnRleHQgPSBvcHRpb25zLmVsZW1lbnRzO1xuICAgICAgICBvcHRpb25zLmVsZW1lbnRzID0gIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWxlbWVudHMgPSBvcHRpb25zLmVsZW1lbnRzIHx8IHBmLnFzYSggKG9wdGlvbnMuY29udGV4dCB8fCBkb2N1bWVudCksICggb3B0aW9ucy5yZWV2YWx1YXRlIHx8IG9wdGlvbnMucmVzZWxlY3QgKSA/IHBmLnNlbCA6IHBmLnNlbFNob3J0ICk7XG5cbiAgICBpZiAoIChwbGVuID0gZWxlbWVudHMubGVuZ3RoKSApIHtcblxuICAgICAgcGYuc2V0dXBSdW4oIG9wdGlvbnMgKTtcbiAgICAgIGFscmVhZHlSdW4gPSB0cnVlO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYWxsIGVsZW1lbnRzXG4gICAgICBmb3IgKCBpID0gMDsgaSA8IHBsZW47IGkrKyApIHtcbiAgICAgICAgcGYuZmlsbEltZyhlbGVtZW50c1sgaSBdLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcGYudGVhcmRvd25SdW4oIG9wdGlvbnMgKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIG91dHB1dHMgYSB3YXJuaW5nIGZvciB0aGUgZGV2ZWxvcGVyXG4gICAqIEBwYXJhbSB7bWVzc2FnZX1cbiAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgKi9cbiAgd2FybiA9ICggd2luZG93LmNvbnNvbGUgJiYgY29uc29sZS53YXJuICkgP1xuICAgIGZ1bmN0aW9uKCBtZXNzYWdlICkge1xuICAgICAgY29uc29sZS53YXJuKCBtZXNzYWdlICk7XG4gICAgfSA6XG4gICAgbm9vcFxuICA7XG5cbiAgaWYgKCAhKGN1clNyY1Byb3AgaW4gaW1hZ2UpICkge1xuICAgIGN1clNyY1Byb3AgPSBcInNyY1wiO1xuICB9XG5cbiAgLy8gQWRkIHN1cHBvcnQgZm9yIHN0YW5kYXJkIG1pbWUgdHlwZXMuXG4gIHR5cGVzWyBcImltYWdlL2pwZWdcIiBdID0gdHJ1ZTtcbiAgdHlwZXNbIFwiaW1hZ2UvZ2lmXCIgXSA9IHRydWU7XG4gIHR5cGVzWyBcImltYWdlL3BuZ1wiIF0gPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIGRldGVjdFR5cGVTdXBwb3J0KCB0eXBlLCB0eXBlVXJpICkge1xuICAgIC8vIGJhc2VkIG9uIE1vZGVybml6cidzIGxvc3NsZXNzIGltZy13ZWJwIHRlc3RcbiAgICAvLyBub3RlOiBhc3luY2hyb25vdXNcbiAgICB2YXIgaW1hZ2UgPSBuZXcgd2luZG93LkltYWdlKCk7XG4gICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdHlwZXNbIHR5cGUgXSA9IGZhbHNlO1xuICAgICAgcGljdHVyZWZpbGwoKTtcbiAgICB9O1xuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdHlwZXNbIHR5cGUgXSA9IGltYWdlLndpZHRoID09PSAxO1xuICAgICAgcGljdHVyZWZpbGwoKTtcbiAgICB9O1xuICAgIGltYWdlLnNyYyA9IHR5cGVVcmk7XG4gICAgcmV0dXJuIFwicGVuZGluZ1wiO1xuICB9XG5cbiAgLy8gdGVzdCBzdmcgc3VwcG9ydFxuICB0eXBlc1sgXCJpbWFnZS9zdmcreG1sXCIgXSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoIFwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNJbWFnZVwiLCBcIjEuMVwiICk7XG5cbiAgLyoqXG4gICAqIHVwZGF0ZXMgdGhlIGludGVybmFsIHZXIHByb3BlcnR5IHdpdGggdGhlIGN1cnJlbnQgdmlld3BvcnQgd2lkdGggaW4gcHhcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZU1ldHJpY3MoKSB7XG5cbiAgICBpc1Z3RGlydHkgPSBmYWxzZTtcbiAgICBEUFIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICBjc3NDYWNoZSA9IHt9O1xuICAgIHNpemVMZW5ndGhDYWNoZSA9IHt9O1xuXG4gICAgcGYuRFBSID0gRFBSIHx8IDE7XG5cbiAgICB1bml0cy53aWR0aCA9IE1hdGgubWF4KHdpbmRvdy5pbm5lcldpZHRoIHx8IDAsIGRvY0VsZW0uY2xpZW50V2lkdGgpO1xuICAgIHVuaXRzLmhlaWdodCA9IE1hdGgubWF4KHdpbmRvdy5pbm5lckhlaWdodCB8fCAwLCBkb2NFbGVtLmNsaWVudEhlaWdodCk7XG5cbiAgICB1bml0cy52dyA9IHVuaXRzLndpZHRoIC8gMTAwO1xuICAgIHVuaXRzLnZoID0gdW5pdHMuaGVpZ2h0IC8gMTAwO1xuXG4gICAgZXZhbElkID0gWyB1bml0cy5oZWlnaHQsIHVuaXRzLndpZHRoLCBEUFIgXS5qb2luKFwiLVwiKTtcblxuICAgIHVuaXRzLmVtID0gcGYuZ2V0RW1WYWx1ZSgpO1xuICAgIHVuaXRzLnJlbSA9IHVuaXRzLmVtO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hvb3NlTG93UmVzKCBsb3dlclZhbHVlLCBoaWdoZXJWYWx1ZSwgZHByVmFsdWUsIGlzQ2FjaGVkICkge1xuICAgIHZhciBib251c0ZhY3RvciwgdG9vTXVjaCwgYm9udXMsIG1lYW5EZW5zaXR5O1xuXG4gICAgLy9leHBlcmltZW50YWxcbiAgICBpZiAoY2ZnLmFsZ29yaXRobSA9PT0gXCJzYXZlRGF0YVwiICl7XG4gICAgICBpZiAoIGxvd2VyVmFsdWUgPiAyLjcgKSB7XG4gICAgICAgIG1lYW5EZW5zaXR5ID0gZHByVmFsdWUgKyAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9vTXVjaCA9IGhpZ2hlclZhbHVlIC0gZHByVmFsdWU7XG4gICAgICAgIGJvbnVzRmFjdG9yID0gTWF0aC5wb3cobG93ZXJWYWx1ZSAtIDAuNiwgMS41KTtcblxuICAgICAgICBib251cyA9IHRvb011Y2ggKiBib251c0ZhY3RvcjtcblxuICAgICAgICBpZiAoaXNDYWNoZWQpIHtcbiAgICAgICAgICBib251cyArPSAwLjEgKiBib251c0ZhY3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lYW5EZW5zaXR5ID0gbG93ZXJWYWx1ZSArIGJvbnVzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtZWFuRGVuc2l0eSA9IChkcHJWYWx1ZSA+IDEpID9cbiAgICAgICAgTWF0aC5zcXJ0KGxvd2VyVmFsdWUgKiBoaWdoZXJWYWx1ZSkgOlxuICAgICAgICBsb3dlclZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBtZWFuRGVuc2l0eSA+IGRwclZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlCZXN0Q2FuZGlkYXRlKCBpbWcgKSB7XG4gICAgdmFyIHNyY1NldENhbmRpZGF0ZXM7XG4gICAgdmFyIG1hdGNoaW5nU2V0ID0gcGYuZ2V0U2V0KCBpbWcgKTtcbiAgICB2YXIgZXZhbHVhdGVkID0gZmFsc2U7XG4gICAgaWYgKCBtYXRjaGluZ1NldCAhPT0gXCJwZW5kaW5nXCIgKSB7XG4gICAgICBldmFsdWF0ZWQgPSBldmFsSWQ7XG4gICAgICBpZiAoIG1hdGNoaW5nU2V0ICkge1xuICAgICAgICBzcmNTZXRDYW5kaWRhdGVzID0gcGYuc2V0UmVzKCBtYXRjaGluZ1NldCApO1xuICAgICAgICBwZi5hcHBseVNldENhbmRpZGF0ZSggc3JjU2V0Q2FuZGlkYXRlcywgaW1nICk7XG4gICAgICB9XG4gICAgfVxuICAgIGltZ1sgcGYubnMgXS5ldmFsZWQgPSBldmFsdWF0ZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBhc2NlbmRpbmdTb3J0KCBhLCBiICkge1xuICAgIHJldHVybiBhLnJlcyAtIGIucmVzO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U3JjVG9DdXIoIGltZywgc3JjLCBzZXQgKSB7XG4gICAgdmFyIGNhbmRpZGF0ZTtcbiAgICBpZiAoICFzZXQgJiYgc3JjICkge1xuICAgICAgc2V0ID0gaW1nWyBwZi5ucyBdLnNldHM7XG4gICAgICBzZXQgPSBzZXQgJiYgc2V0W3NldC5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICBjYW5kaWRhdGUgPSBnZXRDYW5kaWRhdGVGb3JTcmMoc3JjLCBzZXQpO1xuXG4gICAgaWYgKCBjYW5kaWRhdGUgKSB7XG4gICAgICBzcmMgPSBwZi5tYWtlVXJsKHNyYyk7XG4gICAgICBpbWdbIHBmLm5zIF0uY3VyU3JjID0gc3JjO1xuICAgICAgaW1nWyBwZi5ucyBdLmN1ckNhbiA9IGNhbmRpZGF0ZTtcblxuICAgICAgaWYgKCAhY2FuZGlkYXRlLnJlcyApIHtcbiAgICAgICAgc2V0UmVzb2x1dGlvbiggY2FuZGlkYXRlLCBjYW5kaWRhdGUuc2V0LnNpemVzICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDYW5kaWRhdGVGb3JTcmMoIHNyYywgc2V0ICkge1xuICAgIHZhciBpLCBjYW5kaWRhdGUsIGNhbmRpZGF0ZXM7XG4gICAgaWYgKCBzcmMgJiYgc2V0ICkge1xuICAgICAgY2FuZGlkYXRlcyA9IHBmLnBhcnNlU2V0KCBzZXQgKTtcbiAgICAgIHNyYyA9IHBmLm1ha2VVcmwoc3JjKTtcbiAgICAgIGZvciAoIGkgPSAwOyBpIDwgY2FuZGlkYXRlcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgaWYgKCBzcmMgPT09IHBmLm1ha2VVcmwoY2FuZGlkYXRlc1sgaSBdLnVybCkgKSB7XG4gICAgICAgICAgY2FuZGlkYXRlID0gY2FuZGlkYXRlc1sgaSBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBbGxTb3VyY2VFbGVtZW50cyggcGljdHVyZSwgY2FuZGlkYXRlcyApIHtcbiAgICB2YXIgaSwgbGVuLCBzb3VyY2UsIHNyY3NldDtcblxuICAgIC8vIFNQRUMgbWlzbWF0Y2ggaW50ZW5kZWQgZm9yIHNpemUgYW5kIHBlcmY6XG4gICAgLy8gYWN0dWFsbHkgb25seSBzb3VyY2UgZWxlbWVudHMgcHJlY2VkaW5nIHRoZSBpbWcgc2hvdWxkIGJlIHVzZWRcbiAgICAvLyBhbHNvIG5vdGU6IGRvbid0IHVzZSBxc2EgaGVyZSwgYmVjYXVzZSBJRTggc29tZXRpbWVzIGRvZXNuJ3QgbGlrZSBzb3VyY2UgYXMgdGhlIGtleSBwYXJ0IGluIGEgc2VsZWN0b3JcbiAgICB2YXIgc291cmNlcyA9IHBpY3R1cmUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwic291cmNlXCIgKTtcblxuICAgIGZvciAoIGkgPSAwLCBsZW4gPSBzb3VyY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgc291cmNlID0gc291cmNlc1sgaSBdO1xuICAgICAgc291cmNlWyBwZi5ucyBdID0gdHJ1ZTtcbiAgICAgIHNyY3NldCA9IHNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwic3Jjc2V0XCIgKTtcblxuICAgICAgLy8gaWYgc291cmNlIGRvZXMgbm90IGhhdmUgYSBzcmNzZXQgYXR0cmlidXRlLCBza2lwXG4gICAgICBpZiAoIHNyY3NldCApIHtcbiAgICAgICAgY2FuZGlkYXRlcy5wdXNoKCB7XG4gICAgICAgICAgc3Jjc2V0OiBzcmNzZXQsXG4gICAgICAgICAgbWVkaWE6IHNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwibWVkaWFcIiApLFxuICAgICAgICAgIHR5cGU6IHNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwidHlwZVwiICksXG4gICAgICAgICAgc2l6ZXM6IHNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwic2l6ZXNcIiApXG4gICAgICAgIH0gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3Jjc2V0IFBhcnNlclxuICAgKiBCeSBBbGV4IEJlbGwgfCAgTUlUIExpY2Vuc2VcbiAgICpcbiAgICogQHJldHVybnMgQXJyYXkgW3t1cmw6IF8sIGQ6IF8sIHc6IF8sIGg6Xywgc2V0Ol8oPz8/Pyl9LCAuLi5dXG4gICAqXG4gICAqIEJhc2VkIHN1cGVyIGR1cGVyIGNsb3NlbHkgb24gdGhlIHJlZmVyZW5jZSBhbGdvcml0aG0gYXQ6XG4gICAqIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCNwYXJzZS1hLXNyY3NldC1hdHRyaWJ1dGVcbiAgICovXG5cbiAgLy8gMS4gTGV0IGlucHV0IGJlIHRoZSB2YWx1ZSBwYXNzZWQgdG8gdGhpcyBhbGdvcml0aG0uXG4gIC8vIChUTy1ETyA6IEV4cGxhaW4gd2hhdCBcInNldFwiIGFyZ3VtZW50IGlzIGhlcmUuIE1heWJlIGNob29zZSBhIG1vcmVcbiAgLy8gZGVzY3JpcHRpdmUgJiBtb3JlIHNlYXJjaGFibGUgbmFtZS4gIFNpbmNlIHBhc3NpbmcgdGhlIFwic2V0XCIgaW4gcmVhbGx5IGhhc1xuICAvLyBub3RoaW5nIHRvIGRvIHdpdGggcGFyc2luZyBwcm9wZXIsIEkgd291bGQgcHJlZmVyIHRoaXMgYXNzaWdubWVudCBldmVudHVhbGx5XG4gIC8vIGdvIGluIGFuIGV4dGVybmFsIGZuLilcbiAgZnVuY3Rpb24gcGFyc2VTcmNzZXQoaW5wdXQsIHNldCkge1xuXG4gICAgZnVuY3Rpb24gY29sbGVjdENoYXJhY3RlcnMocmVnRXgpIHtcbiAgICAgIHZhciBjaGFycyxcbiAgICAgICAgICBtYXRjaCA9IHJlZ0V4LmV4ZWMoaW5wdXQuc3Vic3RyaW5nKHBvcykpO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNoYXJzID0gbWF0Y2hbIDAgXTtcbiAgICAgICAgcG9zICs9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGNoYXJzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcbiAgICAgICAgdXJsLFxuICAgICAgICBkZXNjcmlwdG9ycyxcbiAgICAgICAgY3VycmVudERlc2NyaXB0b3IsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBjLFxuXG4gICAgICAgIC8vIDIuIExldCBwb3NpdGlvbiBiZSBhIHBvaW50ZXIgaW50byBpbnB1dCwgaW5pdGlhbGx5IHBvaW50aW5nIGF0IHRoZSBzdGFydFxuICAgICAgICAvLyAgICBvZiB0aGUgc3RyaW5nLlxuICAgICAgICBwb3MgPSAwLFxuXG4gICAgICAgIC8vIDMuIExldCBjYW5kaWRhdGVzIGJlIGFuIGluaXRpYWxseSBlbXB0eSBzb3VyY2Ugc2V0LlxuICAgICAgICBjYW5kaWRhdGVzID0gW107XG5cbiAgICAvKipcbiAgICAqIEFkZHMgZGVzY3JpcHRvciBwcm9wZXJ0aWVzIHRvIGEgY2FuZGlkYXRlLCBwdXNoZXMgdG8gdGhlIGNhbmRpZGF0ZXMgYXJyYXlcbiAgICAqIEByZXR1cm4gdW5kZWZpbmVkXG4gICAgKi9cbiAgICAvLyAoRGVjbGFyZWQgb3V0c2lkZSBvZiB0aGUgd2hpbGUgbG9vcCBzbyB0aGF0IGl0J3Mgb25seSBjcmVhdGVkIG9uY2UuXG4gICAgLy8gKFRoaXMgZm4gaXMgZGVmaW5lZCBiZWZvcmUgaXQgaXMgdXNlZCwgaW4gb3JkZXIgdG8gcGFzcyBKU0hJTlQuXG4gICAgLy8gVW5mb3J0dW5hdGVseSB0aGlzIGJyZWFrcyB0aGUgc2VxdWVuY2luZyBvZiB0aGUgc3BlYyBjb21tZW50cy4gOi8gKVxuICAgIGZ1bmN0aW9uIHBhcnNlRGVzY3JpcHRvcnMoKSB7XG5cbiAgICAgIC8vIDkuIERlc2NyaXB0b3IgcGFyc2VyOiBMZXQgZXJyb3IgYmUgbm8uXG4gICAgICB2YXIgcEVycm9yID0gZmFsc2UsXG5cbiAgICAgIC8vIDEwLiBMZXQgd2lkdGggYmUgYWJzZW50LlxuICAgICAgLy8gMTEuIExldCBkZW5zaXR5IGJlIGFic2VudC5cbiAgICAgIC8vIDEyLiBMZXQgZnV0dXJlLWNvbXBhdC1oIGJlIGFic2VudC4gKFdlJ3JlIGltcGxlbWVudGluZyBpdCBub3cgYXMgaClcbiAgICAgICAgICB3LCBkLCBoLCBpLFxuICAgICAgICAgIGNhbmRpZGF0ZSA9IHt9LFxuICAgICAgICAgIGRlc2MsIGxhc3RDaGFyLCB2YWx1ZSwgaW50VmFsLCBmbG9hdFZhbDtcblxuICAgICAgLy8gMTMuIEZvciBlYWNoIGRlc2NyaXB0b3IgaW4gZGVzY3JpcHRvcnMsIHJ1biB0aGUgYXBwcm9wcmlhdGUgc2V0IG9mIHN0ZXBzXG4gICAgICAvLyBmcm9tIHRoZSBmb2xsb3dpbmcgbGlzdDpcbiAgICAgIGZvciAoaSA9IDAgOyBpIDwgZGVzY3JpcHRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVzYyA9IGRlc2NyaXB0b3JzWyBpIF07XG5cbiAgICAgICAgbGFzdENoYXIgPSBkZXNjWyBkZXNjLmxlbmd0aCAtIDEgXTtcbiAgICAgICAgdmFsdWUgPSBkZXNjLnN1YnN0cmluZygwLCBkZXNjLmxlbmd0aCAtIDEpO1xuICAgICAgICBpbnRWYWwgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICBmbG9hdFZhbCA9IHBhcnNlRmxvYXQodmFsdWUpO1xuXG4gICAgICAgIC8vIElmIHRoZSBkZXNjcmlwdG9yIGNvbnNpc3RzIG9mIGEgdmFsaWQgbm9uLW5lZ2F0aXZlIGludGVnZXIgZm9sbG93ZWQgYnlcbiAgICAgICAgLy8gYSBVKzAwNzcgTEFUSU4gU01BTEwgTEVUVEVSIFcgY2hhcmFjdGVyXG4gICAgICAgIGlmIChyZWdleE5vbk5lZ2F0aXZlSW50ZWdlci50ZXN0KHZhbHVlKSAmJiAobGFzdENoYXIgPT09IFwid1wiKSkge1xuXG4gICAgICAgICAgLy8gSWYgd2lkdGggYW5kIGRlbnNpdHkgYXJlIG5vdCBib3RoIGFic2VudCwgdGhlbiBsZXQgZXJyb3IgYmUgeWVzLlxuICAgICAgICAgIGlmICh3IHx8IGQpIHtwRXJyb3IgPSB0cnVlO31cblxuICAgICAgICAgIC8vIEFwcGx5IHRoZSBydWxlcyBmb3IgcGFyc2luZyBub24tbmVnYXRpdmUgaW50ZWdlcnMgdG8gdGhlIGRlc2NyaXB0b3IuXG4gICAgICAgICAgLy8gSWYgdGhlIHJlc3VsdCBpcyB6ZXJvLCBsZXQgZXJyb3IgYmUgeWVzLlxuICAgICAgICAgIC8vIE90aGVyd2lzZSwgbGV0IHdpZHRoIGJlIHRoZSByZXN1bHQuXG4gICAgICAgICAgaWYgKGludFZhbCA9PT0gMCkge3BFcnJvciA9IHRydWU7fSBlbHNlIHt3ID0gaW50VmFsO31cblxuICAgICAgICAvLyBJZiB0aGUgZGVzY3JpcHRvciBjb25zaXN0cyBvZiBhIHZhbGlkIGZsb2F0aW5nLXBvaW50IG51bWJlciBmb2xsb3dlZCBieVxuICAgICAgICAvLyBhIFUrMDA3OCBMQVRJTiBTTUFMTCBMRVRURVIgWCBjaGFyYWN0ZXJcbiAgICAgICAgfSBlbHNlIGlmIChyZWdleEZsb2F0aW5nUG9pbnQudGVzdCh2YWx1ZSkgJiYgKGxhc3RDaGFyID09PSBcInhcIikpIHtcblxuICAgICAgICAgIC8vIElmIHdpZHRoLCBkZW5zaXR5IGFuZCBmdXR1cmUtY29tcGF0LWggYXJlIG5vdCBhbGwgYWJzZW50LCB0aGVuIGxldCBlcnJvclxuICAgICAgICAgIC8vIGJlIHllcy5cbiAgICAgICAgICBpZiAodyB8fCBkIHx8IGgpIHtwRXJyb3IgPSB0cnVlO31cblxuICAgICAgICAgIC8vIEFwcGx5IHRoZSBydWxlcyBmb3IgcGFyc2luZyBmbG9hdGluZy1wb2ludCBudW1iZXIgdmFsdWVzIHRvIHRoZSBkZXNjcmlwdG9yLlxuICAgICAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgbGVzcyB0aGFuIHplcm8sIGxldCBlcnJvciBiZSB5ZXMuIE90aGVyd2lzZSwgbGV0IGRlbnNpdHlcbiAgICAgICAgICAvLyBiZSB0aGUgcmVzdWx0LlxuICAgICAgICAgIGlmIChmbG9hdFZhbCA8IDApIHtwRXJyb3IgPSB0cnVlO30gZWxzZSB7ZCA9IGZsb2F0VmFsO31cblxuICAgICAgICAvLyBJZiB0aGUgZGVzY3JpcHRvciBjb25zaXN0cyBvZiBhIHZhbGlkIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIGZvbGxvd2VkIGJ5XG4gICAgICAgIC8vIGEgVSswMDY4IExBVElOIFNNQUxMIExFVFRFUiBIIGNoYXJhY3RlclxuICAgICAgICB9IGVsc2UgaWYgKHJlZ2V4Tm9uTmVnYXRpdmVJbnRlZ2VyLnRlc3QodmFsdWUpICYmIChsYXN0Q2hhciA9PT0gXCJoXCIpKSB7XG5cbiAgICAgICAgICAvLyBJZiBoZWlnaHQgYW5kIGRlbnNpdHkgYXJlIG5vdCBib3RoIGFic2VudCwgdGhlbiBsZXQgZXJyb3IgYmUgeWVzLlxuICAgICAgICAgIGlmIChoIHx8IGQpIHtwRXJyb3IgPSB0cnVlO31cblxuICAgICAgICAgIC8vIEFwcGx5IHRoZSBydWxlcyBmb3IgcGFyc2luZyBub24tbmVnYXRpdmUgaW50ZWdlcnMgdG8gdGhlIGRlc2NyaXB0b3IuXG4gICAgICAgICAgLy8gSWYgdGhlIHJlc3VsdCBpcyB6ZXJvLCBsZXQgZXJyb3IgYmUgeWVzLiBPdGhlcndpc2UsIGxldCBmdXR1cmUtY29tcGF0LWhcbiAgICAgICAgICAvLyBiZSB0aGUgcmVzdWx0LlxuICAgICAgICAgIGlmIChpbnRWYWwgPT09IDApIHtwRXJyb3IgPSB0cnVlO30gZWxzZSB7aCA9IGludFZhbDt9XG5cbiAgICAgICAgLy8gQW55dGhpbmcgZWxzZSwgTGV0IGVycm9yIGJlIHllcy5cbiAgICAgICAgfSBlbHNlIHtwRXJyb3IgPSB0cnVlO31cbiAgICAgIH0gLy8gKGNsb3NlIHN0ZXAgMTMgZm9yIGxvb3ApXG5cbiAgICAgIC8vIDE1LiBJZiBlcnJvciBpcyBzdGlsbCBubywgdGhlbiBhcHBlbmQgYSBuZXcgaW1hZ2Ugc291cmNlIHRvIGNhbmRpZGF0ZXMgd2hvc2VcbiAgICAgIC8vIFVSTCBpcyB1cmwsIGFzc29jaWF0ZWQgd2l0aCBhIHdpZHRoIHdpZHRoIGlmIG5vdCBhYnNlbnQgYW5kIGEgcGl4ZWxcbiAgICAgIC8vIGRlbnNpdHkgZGVuc2l0eSBpZiBub3QgYWJzZW50LiBPdGhlcndpc2UsIHRoZXJlIGlzIGEgcGFyc2UgZXJyb3IuXG4gICAgICBpZiAoIXBFcnJvcikge1xuICAgICAgICBjYW5kaWRhdGUudXJsID0gdXJsO1xuXG4gICAgICAgIGlmICh3KSB7IGNhbmRpZGF0ZS53ID0gdzt9XG4gICAgICAgIGlmIChkKSB7IGNhbmRpZGF0ZS5kID0gZDt9XG4gICAgICAgIGlmIChoKSB7IGNhbmRpZGF0ZS5oID0gaDt9XG4gICAgICAgIGlmICghaCAmJiAhZCAmJiAhdykge2NhbmRpZGF0ZS5kID0gMTt9XG4gICAgICAgIGlmIChjYW5kaWRhdGUuZCA9PT0gMSkge3NldC5oYXMxeCA9IHRydWU7fVxuICAgICAgICBjYW5kaWRhdGUuc2V0ID0gc2V0O1xuXG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaChjYW5kaWRhdGUpO1xuICAgICAgfVxuICAgIH0gLy8gKGNsb3NlIHBhcnNlRGVzY3JpcHRvcnMgZm4pXG5cbiAgICAvKipcbiAgICAqIFRva2VuaXplcyBkZXNjcmlwdG9yIHByb3BlcnRpZXMgcHJpb3IgdG8gcGFyc2luZ1xuICAgICogUmV0dXJucyB1bmRlZmluZWQuXG4gICAgKiAoQWdhaW4sIHRoaXMgZm4gaXMgZGVmaW5lZCBiZWZvcmUgaXQgaXMgdXNlZCwgaW4gb3JkZXIgdG8gcGFzcyBKU0hJTlQuXG4gICAgKiBVbmZvcnR1bmF0ZWx5IHRoaXMgYnJlYWtzIHRoZSBsb2dpY2FsIHNlcXVlbmNpbmcgb2YgdGhlIHNwZWMgY29tbWVudHMuIDovIClcbiAgICAqL1xuICAgIGZ1bmN0aW9uIHRva2VuaXplKCkge1xuXG4gICAgICAvLyA4LjEuIERlc2NyaXB0b3IgdG9rZW5pc2VyOiBTa2lwIHdoaXRlc3BhY2VcbiAgICAgIGNvbGxlY3RDaGFyYWN0ZXJzKHJlZ2V4TGVhZGluZ1NwYWNlcyk7XG5cbiAgICAgIC8vIDguMi4gTGV0IGN1cnJlbnQgZGVzY3JpcHRvciBiZSB0aGUgZW1wdHkgc3RyaW5nLlxuICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBcIlwiO1xuXG4gICAgICAvLyA4LjMuIExldCBzdGF0ZSBiZSBpbiBkZXNjcmlwdG9yLlxuICAgICAgc3RhdGUgPSBcImluIGRlc2NyaXB0b3JcIjtcblxuICAgICAgd2hpbGUgKHRydWUpIHtcblxuICAgICAgICAvLyA4LjQuIExldCBjIGJlIHRoZSBjaGFyYWN0ZXIgYXQgcG9zaXRpb24uXG4gICAgICAgIGMgPSBpbnB1dC5jaGFyQXQocG9zKTtcblxuICAgICAgICAvLyAgRG8gdGhlIGZvbGxvd2luZyBkZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIHN0YXRlLlxuICAgICAgICAvLyAgRm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgc3RlcCwgXCJFT0ZcIiBpcyBhIHNwZWNpYWwgY2hhcmFjdGVyIHJlcHJlc2VudGluZ1xuICAgICAgICAvLyAgdGhhdCBwb3NpdGlvbiBpcyBwYXN0IHRoZSBlbmQgb2YgaW5wdXQuXG5cbiAgICAgICAgLy8gSW4gZGVzY3JpcHRvclxuICAgICAgICBpZiAoc3RhdGUgPT09IFwiaW4gZGVzY3JpcHRvclwiKSB7XG4gICAgICAgICAgLy8gRG8gdGhlIGZvbGxvd2luZywgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZSBvZiBjOlxuXG4gICAgICAgICAgLy8gU3BhY2UgY2hhcmFjdGVyXG4gICAgICAgICAgLy8gSWYgY3VycmVudCBkZXNjcmlwdG9yIGlzIG5vdCBlbXB0eSwgYXBwZW5kIGN1cnJlbnQgZGVzY3JpcHRvciB0b1xuICAgICAgICAgIC8vIGRlc2NyaXB0b3JzIGFuZCBsZXQgY3VycmVudCBkZXNjcmlwdG9yIGJlIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICAgICAgLy8gU2V0IHN0YXRlIHRvIGFmdGVyIGRlc2NyaXB0b3IuXG4gICAgICAgICAgaWYgKGlzU3BhY2UoYykpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50RGVzY3JpcHRvcikge1xuICAgICAgICAgICAgICBkZXNjcmlwdG9ycy5wdXNoKGN1cnJlbnREZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBcIlwiO1xuICAgICAgICAgICAgICBzdGF0ZSA9IFwiYWZ0ZXIgZGVzY3JpcHRvclwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVSswMDJDIENPTU1BICgsKVxuICAgICAgICAgIC8vIEFkdmFuY2UgcG9zaXRpb24gdG8gdGhlIG5leHQgY2hhcmFjdGVyIGluIGlucHV0LiBJZiBjdXJyZW50IGRlc2NyaXB0b3JcbiAgICAgICAgICAvLyBpcyBub3QgZW1wdHksIGFwcGVuZCBjdXJyZW50IGRlc2NyaXB0b3IgdG8gZGVzY3JpcHRvcnMuIEp1bXAgdG8gdGhlIHN0ZXBcbiAgICAgICAgICAvLyBsYWJlbGVkIGRlc2NyaXB0b3IgcGFyc2VyLlxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gXCIsXCIpIHtcbiAgICAgICAgICAgIHBvcyArPSAxO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnREZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgIGRlc2NyaXB0b3JzLnB1c2goY3VycmVudERlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VEZXNjcmlwdG9ycygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gVSswMDI4IExFRlQgUEFSRU5USEVTSVMgKCgpXG4gICAgICAgICAgLy8gQXBwZW5kIGMgdG8gY3VycmVudCBkZXNjcmlwdG9yLiBTZXQgc3RhdGUgdG8gaW4gcGFyZW5zLlxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gXCJcXHUwMDI4XCIpIHtcbiAgICAgICAgICAgIGN1cnJlbnREZXNjcmlwdG9yID0gY3VycmVudERlc2NyaXB0b3IgKyBjO1xuICAgICAgICAgICAgc3RhdGUgPSBcImluIHBhcmVuc1wiO1xuXG4gICAgICAgICAgLy8gRU9GXG4gICAgICAgICAgLy8gSWYgY3VycmVudCBkZXNjcmlwdG9yIGlzIG5vdCBlbXB0eSwgYXBwZW5kIGN1cnJlbnQgZGVzY3JpcHRvciB0b1xuICAgICAgICAgIC8vIGRlc2NyaXB0b3JzLiBKdW1wIHRvIHRoZSBzdGVwIGxhYmVsZWQgZGVzY3JpcHRvciBwYXJzZXIuXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSBcIlwiKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudERlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRvcnMucHVzaChjdXJyZW50RGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZURlc2NyaXB0b3JzKCk7XG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAvLyBBbnl0aGluZyBlbHNlXG4gICAgICAgICAgLy8gQXBwZW5kIGMgdG8gY3VycmVudCBkZXNjcmlwdG9yLlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50RGVzY3JpcHRvciA9IGN1cnJlbnREZXNjcmlwdG9yICsgYztcbiAgICAgICAgICB9XG4gICAgICAgIC8vIChlbmQgXCJpbiBkZXNjcmlwdG9yXCJcblxuICAgICAgICAvLyBJbiBwYXJlbnNcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gXCJpbiBwYXJlbnNcIikge1xuXG4gICAgICAgICAgLy8gVSswMDI5IFJJR0hUIFBBUkVOVEhFU0lTICgpKVxuICAgICAgICAgIC8vIEFwcGVuZCBjIHRvIGN1cnJlbnQgZGVzY3JpcHRvci4gU2V0IHN0YXRlIHRvIGluIGRlc2NyaXB0b3IuXG4gICAgICAgICAgaWYgKGMgPT09IFwiKVwiKSB7XG4gICAgICAgICAgICBjdXJyZW50RGVzY3JpcHRvciA9IGN1cnJlbnREZXNjcmlwdG9yICsgYztcbiAgICAgICAgICAgIHN0YXRlID0gXCJpbiBkZXNjcmlwdG9yXCI7XG5cbiAgICAgICAgICAvLyBFT0ZcbiAgICAgICAgICAvLyBBcHBlbmQgY3VycmVudCBkZXNjcmlwdG9yIHRvIGRlc2NyaXB0b3JzLiBKdW1wIHRvIHRoZSBzdGVwIGxhYmVsZWRcbiAgICAgICAgICAvLyBkZXNjcmlwdG9yIHBhcnNlci5cbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGRlc2NyaXB0b3JzLnB1c2goY3VycmVudERlc2NyaXB0b3IpO1xuICAgICAgICAgICAgcGFyc2VEZXNjcmlwdG9ycygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gQW55dGhpbmcgZWxzZVxuICAgICAgICAgIC8vIEFwcGVuZCBjIHRvIGN1cnJlbnQgZGVzY3JpcHRvci5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBjdXJyZW50RGVzY3JpcHRvciArIGM7XG4gICAgICAgICAgfVxuXG4gICAgICAgIC8vIEFmdGVyIGRlc2NyaXB0b3JcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gXCJhZnRlciBkZXNjcmlwdG9yXCIpIHtcblxuICAgICAgICAgIC8vIERvIHRoZSBmb2xsb3dpbmcsIGRlcGVuZGluZyBvbiB0aGUgdmFsdWUgb2YgYzpcbiAgICAgICAgICAvLyBTcGFjZSBjaGFyYWN0ZXI6IFN0YXkgaW4gdGhpcyBzdGF0ZS5cbiAgICAgICAgICBpZiAoaXNTcGFjZShjKSkge1xuXG4gICAgICAgICAgLy8gRU9GOiBKdW1wIHRvIHRoZSBzdGVwIGxhYmVsZWQgZGVzY3JpcHRvciBwYXJzZXIuXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSBcIlwiKSB7XG4gICAgICAgICAgICBwYXJzZURlc2NyaXB0b3JzKCk7XG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAvLyBBbnl0aGluZyBlbHNlXG4gICAgICAgICAgLy8gU2V0IHN0YXRlIHRvIGluIGRlc2NyaXB0b3IuIFNldCBwb3NpdGlvbiB0byB0aGUgcHJldmlvdXMgY2hhcmFjdGVyIGluIGlucHV0LlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZSA9IFwiaW4gZGVzY3JpcHRvclwiO1xuICAgICAgICAgICAgcG9zIC09IDE7XG5cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZHZhbmNlIHBvc2l0aW9uIHRvIHRoZSBuZXh0IGNoYXJhY3RlciBpbiBpbnB1dC5cbiAgICAgICAgcG9zICs9IDE7XG5cbiAgICAgIC8vIFJlcGVhdCB0aGlzIHN0ZXAuXG4gICAgICB9IC8vIChjbG9zZSB3aGlsZSB0cnVlIGxvb3ApXG4gICAgfVxuXG4gICAgLy8gNC4gU3BsaXR0aW5nIGxvb3A6IENvbGxlY3QgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIHRoYXQgYXJlIHNwYWNlXG4gICAgLy8gICAgY2hhcmFjdGVycyBvciBVKzAwMkMgQ09NTUEgY2hhcmFjdGVycy4gSWYgYW55IFUrMDAyQyBDT01NQSBjaGFyYWN0ZXJzXG4gICAgLy8gICAgd2VyZSBjb2xsZWN0ZWQsIHRoYXQgaXMgYSBwYXJzZSBlcnJvci5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29sbGVjdENoYXJhY3RlcnMocmVnZXhMZWFkaW5nQ29tbWFzT3JTcGFjZXMpO1xuXG4gICAgICAvLyA1LiBJZiBwb3NpdGlvbiBpcyBwYXN0IHRoZSBlbmQgb2YgaW5wdXQsIHJldHVybiBjYW5kaWRhdGVzIGFuZCBhYm9ydCB0aGVzZSBzdGVwcy5cbiAgICAgIGlmIChwb3MgPj0gaW5wdXRMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZXM7IC8vICh3ZSdyZSBkb25lLCB0aGlzIGlzIHRoZSBzb2xlIHJldHVybiBwYXRoKVxuICAgICAgfVxuXG4gICAgICAvLyA2LiBDb2xsZWN0IGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyB0aGF0IGFyZSBub3Qgc3BhY2UgY2hhcmFjdGVycyxcbiAgICAgIC8vICAgIGFuZCBsZXQgdGhhdCBiZSB1cmwuXG4gICAgICB1cmwgPSBjb2xsZWN0Q2hhcmFjdGVycyhyZWdleExlYWRpbmdOb3RTcGFjZXMpO1xuXG4gICAgICAvLyA3LiBMZXQgZGVzY3JpcHRvcnMgYmUgYSBuZXcgZW1wdHkgbGlzdC5cbiAgICAgIGRlc2NyaXB0b3JzID0gW107XG5cbiAgICAgIC8vIDguIElmIHVybCBlbmRzIHdpdGggYSBVKzAwMkMgQ09NTUEgY2hhcmFjdGVyICgsKSwgZm9sbG93IHRoZXNlIHN1YnN0ZXBzOlxuICAgICAgLy8gICAgKDEpLiBSZW1vdmUgYWxsIHRyYWlsaW5nIFUrMDAyQyBDT01NQSBjaGFyYWN0ZXJzIGZyb20gdXJsLiBJZiB0aGlzIHJlbW92ZWRcbiAgICAgIC8vICAgICAgICAgbW9yZSB0aGFuIG9uZSBjaGFyYWN0ZXIsIHRoYXQgaXMgYSBwYXJzZSBlcnJvci5cbiAgICAgIGlmICh1cmwuc2xpY2UoLTEpID09PSBcIixcIikge1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShyZWdleFRyYWlsaW5nQ29tbWFzLCBcIlwiKTtcbiAgICAgICAgLy8gKEp1bXAgYWhlYWQgdG8gc3RlcCA5IHRvIHNraXAgdG9rZW5pemF0aW9uIGFuZCBqdXN0IHB1c2ggdGhlIGNhbmRpZGF0ZSkuXG4gICAgICAgIHBhcnNlRGVzY3JpcHRvcnMoKTtcblxuICAgICAgLy8gIE90aGVyd2lzZSwgZm9sbG93IHRoZXNlIHN1YnN0ZXBzOlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9rZW5pemUoKTtcbiAgICAgIH0gLy8gKGNsb3NlIGVsc2Ugb2Ygc3RlcCA4KVxuXG4gICAgLy8gMTYuIFJldHVybiB0byB0aGUgc3RlcCBsYWJlbGVkIHNwbGl0dGluZyBsb29wLlxuICAgIH0gLy8gKENsb3NlIG9mIGJpZyB3aGlsZSBsb29wLilcbiAgfVxuXG4gIC8qXG4gICAqIFNpemVzIFBhcnNlclxuICAgKlxuICAgKiBCeSBBbGV4IEJlbGwgfCAgTUlUIExpY2Vuc2VcbiAgICpcbiAgICogTm9uLXN0cmljdCBidXQgYWNjdXJhdGUgYW5kIGxpZ2h0d2VpZ2h0IEpTIFBhcnNlciBmb3IgdGhlIHN0cmluZyB2YWx1ZSA8aW1nIHNpemVzPVwiaGVyZVwiPlxuICAgKlxuICAgKiBSZWZlcmVuY2UgYWxnb3JpdGhtIGF0OlxuICAgKiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjcGFyc2UtYS1zaXplcy1hdHRyaWJ1dGVcbiAgICpcbiAgICogTW9zdCBjb21tZW50cyBhcmUgY29waWVkIGluIGRpcmVjdGx5IGZyb20gdGhlIHNwZWNcbiAgICogKGV4Y2VwdCBmb3IgY29tbWVudHMgaW4gcGFyZW5zKS5cbiAgICpcbiAgICogR3JhbW1hciBpczpcbiAgICogPHNvdXJjZS1zaXplLWxpc3Q+ID0gPHNvdXJjZS1zaXplPiMgWyAsIDxzb3VyY2Utc2l6ZS12YWx1ZT4gXT8gfCA8c291cmNlLXNpemUtdmFsdWU+XG4gICAqIDxzb3VyY2Utc2l6ZT4gPSA8bWVkaWEtY29uZGl0aW9uPiA8c291cmNlLXNpemUtdmFsdWU+XG4gICAqIDxzb3VyY2Utc2l6ZS12YWx1ZT4gPSA8bGVuZ3RoPlxuICAgKiBodHRwOi8vd3d3LnczLm9yZy9odG1sL3dnL2RyYWZ0cy9odG1sL21hc3Rlci9lbWJlZGRlZC1jb250ZW50Lmh0bWwjYXR0ci1pbWctc2l6ZXNcbiAgICpcbiAgICogRS5nLiBcIihtYXgtd2lkdGg6IDMwZW0pIDEwMHZ3LCAobWF4LXdpZHRoOiA1MGVtKSA3MHZ3LCAxMDB2d1wiXG4gICAqIG9yIFwiKG1pbi13aWR0aDogMzBlbSksIGNhbGMoMzB2dyAtIDE1cHgpXCIgb3IganVzdCBcIjMwdndcIlxuICAgKlxuICAgKiBSZXR1cm5zIHRoZSBmaXJzdCB2YWxpZCA8Y3NzLWxlbmd0aD4gd2l0aCBhIG1lZGlhIGNvbmRpdGlvbiB0aGF0IGV2YWx1YXRlcyB0byB0cnVlLFxuICAgKiBvciBcIjEwMHZ3XCIgaWYgYWxsIHZhbGlkIG1lZGlhIGNvbmRpdGlvbnMgZXZhbHVhdGUgdG8gZmFsc2UuXG4gICAqXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHBhcnNlU2l6ZXMoc3RyVmFsdWUpIHtcblxuICAgIC8vIChQZXJjZW50YWdlIENTUyBsZW5ndGhzIGFyZSBub3QgYWxsb3dlZCBpbiB0aGlzIGNhc2UsIHRvIGF2b2lkIGNvbmZ1c2lvbjpcbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdmFsaWQtc291cmNlLXNpemUtbGlzdFxuICAgIC8vIENTUyBhbGxvd3MgYSBzaW5nbGUgb3B0aW9uYWwgcGx1cyBvciBtaW51cyBzaWduOlxuICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIvc3luZGF0YS5odG1sI251bWJlcnNcbiAgICAvLyBDU1MgaXMgQVNDSUkgY2FzZS1pbnNlbnNpdGl2ZTpcbiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyL3N5bmRhdGEuaHRtbCNjaGFyYWN0ZXJzIClcbiAgICAvLyBTcGVjIGFsbG93cyBleHBvbmVudGlhbCBub3RhdGlvbiBmb3IgPG51bWJlcj4gdHlwZTpcbiAgICAvLyBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtdmFsdWVzLyNudW1iZXJzXG4gICAgdmFyIHJlZ2V4Q3NzTGVuZ3RoV2l0aFVuaXRzID0gL14oPzpbKy1dP1swLTldK3xbMC05XSpcXC5bMC05XSspKD86W2VFXVsrLV0/WzAtOV0rKT8oPzpjaHxjbXxlbXxleHxpbnxtbXxwY3xwdHxweHxyZW18dmh8dm1pbnx2bWF4fHZ3KSQvaTtcblxuICAgIC8vIChUaGlzIGlzIGEgcXVpY2sgYW5kIGxlbmllbnQgdGVzdC4gQmVjYXVzZSBvZiBvcHRpb25hbCB1bmxpbWl0ZWQtZGVwdGggaW50ZXJuYWxcbiAgICAvLyBncm91cGluZyBwYXJlbnMgYW5kIHN0cmljdCBzcGFjaW5nIHJ1bGVzLCB0aGlzIGNvdWxkIGdldCB2ZXJ5IGNvbXBsaWNhdGVkLilcbiAgICB2YXIgcmVnZXhDc3NDYWxjID0gL15jYWxjXFwoKD86WzAtOWEteiBcXC5cXCtcXC1cXCpcXC9cXChcXCldKylcXCkkL2k7XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgdW5wYXJzZWRTaXplc0xpc3Q7XG4gICAgdmFyIHVucGFyc2VkU2l6ZXNMaXN0TGVuZ3RoO1xuICAgIHZhciB1bnBhcnNlZFNpemU7XG4gICAgdmFyIGxhc3RDb21wb25lbnRWYWx1ZTtcbiAgICB2YXIgc2l6ZTtcblxuICAgIC8vIFVUSUxJVFkgRlVOQ1RJT05TXG5cbiAgICAvLyAgKFRveSBDU1MgcGFyc2VyLiBUaGUgZ29hbHMgaGVyZSBhcmU6XG4gICAgLy8gIDEpIGV4cGFuc2l2ZSB0ZXN0IGNvdmVyYWdlIHdpdGhvdXQgdGhlIHdlaWdodCBvZiBhIGZ1bGwgQ1NTIHBhcnNlci5cbiAgICAvLyAgMikgQXZvaWRpbmcgcmVnZXggd2hlcmV2ZXIgY29udmVuaWVudC5cbiAgICAvLyAgUXVpY2sgdGVzdHM6IGh0dHA6Ly9qc2ZpZGRsZS5uZXQvZ3RudEw0Z3IvMy9cbiAgICAvLyAgUmV0dXJucyBhbiBhcnJheSBvZiBhcnJheXMuKVxuICAgIGZ1bmN0aW9uIHBhcnNlQ29tcG9uZW50VmFsdWVzKHN0cikge1xuICAgICAgdmFyIGNocmN0cjtcbiAgICAgIHZhciBjb21wb25lbnQgPSBcIlwiO1xuICAgICAgdmFyIGNvbXBvbmVudEFycmF5ID0gW107XG4gICAgICB2YXIgbGlzdEFycmF5ID0gW107XG4gICAgICB2YXIgcGFyZW5EZXB0aCA9IDA7XG4gICAgICB2YXIgcG9zID0gMDtcbiAgICAgIHZhciBpbkNvbW1lbnQgPSBmYWxzZTtcblxuICAgICAgZnVuY3Rpb24gcHVzaENvbXBvbmVudCgpIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgIGNvbXBvbmVudEFycmF5LnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgICBjb21wb25lbnQgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHB1c2hDb21wb25lbnRBcnJheSgpIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudEFycmF5WzBdKSB7XG4gICAgICAgICAgbGlzdEFycmF5LnB1c2goY29tcG9uZW50QXJyYXkpO1xuICAgICAgICAgIGNvbXBvbmVudEFycmF5ID0gW107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gKExvb3AgZm9yd2FyZHMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzdHJpbmcuKVxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY2hyY3RyID0gc3RyLmNoYXJBdChwb3MpO1xuXG4gICAgICAgIGlmIChjaHJjdHIgPT09IFwiXCIpIHsgLy8gKCBFbmQgb2Ygc3RyaW5nIHJlYWNoZWQuKVxuICAgICAgICAgIHB1c2hDb21wb25lbnQoKTtcbiAgICAgICAgICBwdXNoQ29tcG9uZW50QXJyYXkoKTtcbiAgICAgICAgICByZXR1cm4gbGlzdEFycmF5O1xuICAgICAgICB9IGVsc2UgaWYgKGluQ29tbWVudCkge1xuICAgICAgICAgIGlmICgoY2hyY3RyID09PSBcIipcIikgJiYgKHN0cltwb3MgKyAxXSA9PT0gXCIvXCIpKSB7IC8vIChBdCBlbmQgb2YgYSBjb21tZW50LilcbiAgICAgICAgICAgIGluQ29tbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgICBwdXNoQ29tcG9uZW50KCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zICs9IDE7IC8vIChTa2lwIGFsbCBjaGFyYWN0ZXJzIGluc2lkZSBjb21tZW50cy4pXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTcGFjZShjaHJjdHIpKSB7XG4gICAgICAgICAgLy8gKElmIHByZXZpb3VzIGNoYXJhY3RlciBpbiBsb29wIHdhcyBhbHNvIGEgc3BhY2UsIG9yIGlmXG4gICAgICAgICAgLy8gYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgc3RyaW5nLCBkbyBub3QgYWRkIHNwYWNlIGNoYXIgdG9cbiAgICAgICAgICAvLyBjb21wb25lbnQuKVxuICAgICAgICAgIGlmICggKHN0ci5jaGFyQXQocG9zIC0gMSkgJiYgaXNTcGFjZSggc3RyLmNoYXJBdChwb3MgLSAxKSApICkgfHwgIWNvbXBvbmVudCApIHtcbiAgICAgICAgICAgIHBvcyArPSAxO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJlbkRlcHRoID09PSAwKSB7XG4gICAgICAgICAgICBwdXNoQ29tcG9uZW50KCk7XG4gICAgICAgICAgICBwb3MgKz0xO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIChSZXBsYWNlIGFueSBzcGFjZSBjaGFyYWN0ZXIgd2l0aCBhIHBsYWluIHNwYWNlIGZvciBsZWdpYmlsaXR5LilcbiAgICAgICAgICAgIGNocmN0ciA9IFwiIFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaHJjdHIgPT09IFwiKFwiKSB7XG4gICAgICAgICAgcGFyZW5EZXB0aCArPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGNocmN0ciA9PT0gXCIpXCIpIHtcbiAgICAgICAgICBwYXJlbkRlcHRoIC09IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hyY3RyID09PSBcIixcIikge1xuICAgICAgICAgIHB1c2hDb21wb25lbnQoKTtcbiAgICAgICAgICBwdXNoQ29tcG9uZW50QXJyYXkoKTtcbiAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmICggKGNocmN0ciA9PT0gXCIvXCIpICYmIChzdHIuY2hhckF0KHBvcyArIDEpID09PSBcIipcIikgKSB7XG4gICAgICAgICAgaW5Db21tZW50ID0gdHJ1ZTtcbiAgICAgICAgICBwb3MgKz0gMjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbXBvbmVudCA9IGNvbXBvbmVudCArIGNocmN0cjtcbiAgICAgICAgcG9zICs9IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNWYWxpZE5vbk5lZ2F0aXZlU291cmNlU2l6ZVZhbHVlKHMpIHtcbiAgICAgIGlmIChyZWdleENzc0xlbmd0aFdpdGhVbml0cy50ZXN0KHMpICYmIChwYXJzZUZsb2F0KHMpID49IDApKSB7cmV0dXJuIHRydWU7fVxuICAgICAgaWYgKHJlZ2V4Q3NzQ2FsYy50ZXN0KHMpKSB7cmV0dXJuIHRydWU7fVxuICAgICAgLy8gKCBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyL3N5bmRhdGEuaHRtbCNudW1iZXJzIHNheXM6XG4gICAgICAvLyBcIi0wIGlzIGVxdWl2YWxlbnQgdG8gMCBhbmQgaXMgbm90IGEgbmVnYXRpdmUgbnVtYmVyLlwiIHdoaWNoIG1lYW5zIHRoYXRcbiAgICAgIC8vIHVuaXRsZXNzIHplcm8gYW5kIHVuaXRsZXNzIG5lZ2F0aXZlIHplcm8gbXVzdCBiZSBhY2NlcHRlZCBhcyBzcGVjaWFsIGNhc2VzLilcbiAgICAgIGlmICgocyA9PT0gXCIwXCIpIHx8IChzID09PSBcIi0wXCIpIHx8IChzID09PSBcIiswXCIpKSB7cmV0dXJuIHRydWU7fVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFdoZW4gYXNrZWQgdG8gcGFyc2UgYSBzaXplcyBhdHRyaWJ1dGUgZnJvbSBhbiBlbGVtZW50LCBwYXJzZSBhXG4gICAgLy8gY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgY29tcG9uZW50IHZhbHVlcyBmcm9tIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCdzXG4gICAgLy8gc2l6ZXMgYXR0cmlidXRlIChvciB0aGUgZW1wdHkgc3RyaW5nLCBpZiB0aGUgYXR0cmlidXRlIGlzIGFic2VudCksIGFuZCBsZXRcbiAgICAvLyB1bnBhcnNlZCBzaXplcyBsaXN0IGJlIHRoZSByZXN1bHQuXG4gICAgLy8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXN5bnRheC8jcGFyc2UtY29tbWEtc2VwYXJhdGVkLWxpc3Qtb2YtY29tcG9uZW50LXZhbHVlc1xuXG4gICAgdW5wYXJzZWRTaXplc0xpc3QgPSBwYXJzZUNvbXBvbmVudFZhbHVlcyhzdHJWYWx1ZSk7XG4gICAgdW5wYXJzZWRTaXplc0xpc3RMZW5ndGggPSB1bnBhcnNlZFNpemVzTGlzdC5sZW5ndGg7XG5cbiAgICAvLyBGb3IgZWFjaCB1bnBhcnNlZCBzaXplIGluIHVucGFyc2VkIHNpemVzIGxpc3Q6XG4gICAgZm9yIChpID0gMDsgaSA8IHVucGFyc2VkU2l6ZXNMaXN0TGVuZ3RoOyBpKyspIHtcbiAgICAgIHVucGFyc2VkU2l6ZSA9IHVucGFyc2VkU2l6ZXNMaXN0W2ldO1xuXG4gICAgICAvLyAxLiBSZW1vdmUgYWxsIGNvbnNlY3V0aXZlIDx3aGl0ZXNwYWNlLXRva2VuPnMgZnJvbSB0aGUgZW5kIG9mIHVucGFyc2VkIHNpemUuXG4gICAgICAvLyAoIHBhcnNlQ29tcG9uZW50VmFsdWVzKCkgYWxyZWFkeSBvbWl0cyBzcGFjZXMgb3V0c2lkZSBvZiBwYXJlbnMuIClcblxuICAgICAgLy8gSWYgdW5wYXJzZWQgc2l6ZSBpcyBub3cgZW1wdHksIHRoYXQgaXMgYSBwYXJzZSBlcnJvcjsgY29udGludWUgdG8gdGhlIG5leHRcbiAgICAgIC8vIGl0ZXJhdGlvbiBvZiB0aGlzIGFsZ29yaXRobS5cbiAgICAgIC8vICggcGFyc2VDb21wb25lbnRWYWx1ZXMoKSB3b24ndCBwdXNoIGFuIGVtcHR5IGFycmF5LiApXG5cbiAgICAgIC8vIDIuIElmIHRoZSBsYXN0IGNvbXBvbmVudCB2YWx1ZSBpbiB1bnBhcnNlZCBzaXplIGlzIGEgdmFsaWQgbm9uLW5lZ2F0aXZlXG4gICAgICAvLyA8c291cmNlLXNpemUtdmFsdWU+LCBsZXQgc2l6ZSBiZSBpdHMgdmFsdWUgYW5kIHJlbW92ZSB0aGUgY29tcG9uZW50IHZhbHVlXG4gICAgICAvLyBmcm9tIHVucGFyc2VkIHNpemUuIEFueSBDU1MgZnVuY3Rpb24gb3RoZXIgdGhhbiB0aGUgY2FsYygpIGZ1bmN0aW9uIGlzXG4gICAgICAvLyBpbnZhbGlkLiBPdGhlcndpc2UsIHRoZXJlIGlzIGEgcGFyc2UgZXJyb3I7IGNvbnRpbnVlIHRvIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgLy8gb2YgdGhpcyBhbGdvcml0aG0uXG4gICAgICAvLyBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3Mtc3ludGF4LyNwYXJzZS1jb21wb25lbnQtdmFsdWVcbiAgICAgIGxhc3RDb21wb25lbnRWYWx1ZSA9IHVucGFyc2VkU2l6ZVt1bnBhcnNlZFNpemUubGVuZ3RoIC0gMV07XG5cbiAgICAgIGlmIChpc1ZhbGlkTm9uTmVnYXRpdmVTb3VyY2VTaXplVmFsdWUobGFzdENvbXBvbmVudFZhbHVlKSkge1xuICAgICAgICBzaXplID0gbGFzdENvbXBvbmVudFZhbHVlO1xuICAgICAgICB1bnBhcnNlZFNpemUucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gMy4gUmVtb3ZlIGFsbCBjb25zZWN1dGl2ZSA8d2hpdGVzcGFjZS10b2tlbj5zIGZyb20gdGhlIGVuZCBvZiB1bnBhcnNlZFxuICAgICAgLy8gc2l6ZS4gSWYgdW5wYXJzZWQgc2l6ZSBpcyBub3cgZW1wdHksIHJldHVybiBzaXplIGFuZCBleGl0IHRoaXMgYWxnb3JpdGhtLlxuICAgICAgLy8gSWYgdGhpcyB3YXMgbm90IHRoZSBsYXN0IGl0ZW0gaW4gdW5wYXJzZWQgc2l6ZXMgbGlzdCwgdGhhdCBpcyBhIHBhcnNlIGVycm9yLlxuICAgICAgaWYgKHVucGFyc2VkU2l6ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIFBhcnNlIHRoZSByZW1haW5pbmcgY29tcG9uZW50IHZhbHVlcyBpbiB1bnBhcnNlZCBzaXplIGFzIGFcbiAgICAgIC8vIDxtZWRpYS1jb25kaXRpb24+LiBJZiBpdCBkb2VzIG5vdCBwYXJzZSBjb3JyZWN0bHksIG9yIGl0IGRvZXMgcGFyc2VcbiAgICAgIC8vIGNvcnJlY3RseSBidXQgdGhlIDxtZWRpYS1jb25kaXRpb24+IGV2YWx1YXRlcyB0byBmYWxzZSwgY29udGludWUgdG8gdGhlXG4gICAgICAvLyBuZXh0IGl0ZXJhdGlvbiBvZiB0aGlzIGFsZ29yaXRobS5cbiAgICAgIC8vIChQYXJzaW5nIGFsbCBwb3NzaWJsZSBjb21wb3VuZCBtZWRpYSBjb25kaXRpb25zIGluIEpTIGlzIGhlYXZ5LCBjb21wbGljYXRlZCxcbiAgICAgIC8vIGFuZCB0aGUgcGF5b2ZmIGlzIHVuY2xlYXIuIElzIHRoZXJlIGV2ZXIgYW4gc2l0dWF0aW9uIHdoZXJlIHRoZVxuICAgICAgLy8gbWVkaWEgY29uZGl0aW9uIHBhcnNlcyBpbmNvcnJlY3RseSBidXQgc3RpbGwgc29tZWhvdyBldmFsdWF0ZXMgdG8gdHJ1ZT9cbiAgICAgIC8vIENhbiB3ZSBqdXN0IHJlbHkgb24gdGhlIGJyb3dzZXIvcG9seWZpbGwgdG8gZG8gaXQ/KVxuICAgICAgdW5wYXJzZWRTaXplID0gdW5wYXJzZWRTaXplLmpvaW4oXCIgXCIpO1xuICAgICAgaWYgKCEocGYubWF0Y2hlc01lZGlhKCB1bnBhcnNlZFNpemUgKSApICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gNS4gUmV0dXJuIHNpemUgYW5kIGV4aXQgdGhpcyBhbGdvcml0aG0uXG4gICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgYWJvdmUgYWxnb3JpdGhtIGV4aGF1c3RzIHVucGFyc2VkIHNpemVzIGxpc3Qgd2l0aG91dCByZXR1cm5pbmcgYVxuICAgIC8vIHNpemUgdmFsdWUsIHJldHVybiAxMDB2dy5cbiAgICByZXR1cm4gXCIxMDB2d1wiO1xuICB9XG5cbiAgLy8gbmFtZXNwYWNlXG4gIHBmLm5zID0gKFwicGZcIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKS5zdWJzdHIoMCwgOSk7XG5cbiAgLy8gc3Jjc2V0IHN1cHBvcnQgdGVzdFxuICBwZi5zdXBTcmNzZXQgPSBcInNyY3NldFwiIGluIGltYWdlO1xuICBwZi5zdXBTaXplcyA9IFwic2l6ZXNcIiBpbiBpbWFnZTtcbiAgcGYuc3VwUGljdHVyZSA9ICEhd2luZG93LkhUTUxQaWN0dXJlRWxlbWVudDtcblxuICAvLyBVQyBicm93c2VyIGRvZXMgY2xhaW0gdG8gc3VwcG9ydCBzcmNzZXQgYW5kIHBpY3R1cmUsIGJ1dCBub3Qgc2l6ZXMsXG4gIC8vIHRoaXMgZXh0ZW5kZWQgdGVzdCByZXZlYWxzIHRoZSBicm93c2VyIGRvZXMgc3VwcG9ydCBub3RoaW5nXG4gIGlmIChwZi5zdXBTcmNzZXQgJiYgcGYuc3VwUGljdHVyZSAmJiAhcGYuc3VwU2l6ZXMpIHtcbiAgICAoZnVuY3Rpb24oaW1hZ2UyKSB7XG4gICAgICBpbWFnZS5zcmNzZXQgPSBcImRhdGE6LGFcIjtcbiAgICAgIGltYWdlMi5zcmMgPSBcImRhdGE6LGFcIjtcbiAgICAgIHBmLnN1cFNyY3NldCA9IGltYWdlLmNvbXBsZXRlID09PSBpbWFnZTIuY29tcGxldGU7XG4gICAgICBwZi5zdXBQaWN0dXJlID0gcGYuc3VwU3Jjc2V0ICYmIHBmLnN1cFBpY3R1cmU7XG4gICAgfSkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSk7XG4gIH1cblxuICAvLyBTYWZhcmk5IGhhcyBiYXNpYyBzdXBwb3J0IGZvciBzaXplcywgYnV0IGRvZXMndCBleHBvc2UgdGhlIGBzaXplc2AgaWRsIGF0dHJpYnV0ZVxuICBpZiAocGYuc3VwU3Jjc2V0ICYmICFwZi5zdXBTaXplcykge1xuXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHdpZHRoMiA9IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQWdBQkFQQUFBUC8vL3dBQUFDSDVCQUFBQUFBQUxBQUFBQUFDQUFFQUFBSUNCQW9BT3c9PVwiO1xuICAgICAgdmFyIHdpZHRoMSA9IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT1cIjtcbiAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgdmFyIHRlc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gaW1nLndpZHRoO1xuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gMikge1xuICAgICAgICAgIHBmLnN1cFNpemVzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFsd2F5c0NoZWNrV0Rlc2NyaXB0b3IgPSBwZi5zdXBTcmNzZXQgJiYgIXBmLnN1cFNpemVzO1xuXG4gICAgICAgIGlzU3VwcG9ydFRlc3RSZWFkeSA9IHRydWU7XG4gICAgICAgIC8vIGZvcmNlIGFzeW5jXG4gICAgICAgIHNldFRpbWVvdXQocGljdHVyZWZpbGwpO1xuICAgICAgfTtcblxuICAgICAgaW1nLm9ubG9hZCA9IHRlc3Q7XG4gICAgICBpbWcub25lcnJvciA9IHRlc3Q7XG4gICAgICBpbWcuc2V0QXR0cmlidXRlKFwic2l6ZXNcIiwgXCI5cHhcIik7XG5cbiAgICAgIGltZy5zcmNzZXQgPSB3aWR0aDEgKyBcIiAxdyxcIiArIHdpZHRoMiArIFwiIDl3XCI7XG4gICAgICBpbWcuc3JjID0gd2lkdGgxO1xuICAgIH0pKCk7XG5cbiAgfSBlbHNlIHtcbiAgICBpc1N1cHBvcnRUZXN0UmVhZHkgPSB0cnVlO1xuICB9XG5cbiAgLy8gdXNpbmcgcGYucXNhIGluc3RlYWQgb2YgZG9tIHRyYXZlcnNpbmcgZG9lcyBzY2FsZSBtdWNoIGJldHRlcixcbiAgLy8gZXNwZWNpYWxseSBvbiBzaXRlcyBtaXhpbmcgcmVzcG9uc2l2ZSBhbmQgbm9uLXJlc3BvbnNpdmUgaW1hZ2VzXG4gIHBmLnNlbFNob3J0ID0gXCJwaWN0dXJlPmltZyxpbWdbc3Jjc2V0XVwiO1xuICBwZi5zZWwgPSBwZi5zZWxTaG9ydDtcbiAgcGYuY2ZnID0gY2ZnO1xuXG4gIC8qKlxuICAgKiBTaG9ydGN1dCBwcm9wZXJ0eSBmb3IgYGRldmljZVBpeGVsUmF0aW9gICggZm9yIGVhc3kgb3ZlcnJpZGluZyBpbiB0ZXN0cyApXG4gICAqL1xuICBwZi5EUFIgPSAoRFBSICB8fCAxICk7XG4gIHBmLnUgPSB1bml0cztcblxuICAvLyBjb250YWluZXIgb2Ygc3VwcG9ydGVkIG1pbWUgdHlwZXMgdGhhdCBvbmUgbWlnaHQgbmVlZCB0byBxdWFsaWZ5IGJlZm9yZSB1c2luZ1xuICBwZi50eXBlcyA9ICB0eXBlcztcblxuICBwZi5zZXRTaXplID0gbm9vcDtcblxuICAvKipcbiAgICogR2V0cyBhIHN0cmluZyBhbmQgcmV0dXJucyB0aGUgYWJzb2x1dGUgVVJMXG4gICAqIEBwYXJhbSBzcmNcbiAgICogQHJldHVybnMge1N0cmluZ30gYWJzb2x1dGUgVVJMXG4gICAqL1xuXG4gIHBmLm1ha2VVcmwgPSBtZW1vaXplKGZ1bmN0aW9uKHNyYykge1xuICAgIGFuY2hvci5ocmVmID0gc3JjO1xuICAgIHJldHVybiBhbmNob3IuaHJlZjtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEdldHMgYSBET00gZWxlbWVudCBvciBkb2N1bWVudCBhbmQgYSBzZWxjdG9yIGFuZCByZXR1cm5zIHRoZSBmb3VuZCBtYXRjaGVzXG4gICAqIENhbiBiZSBleHRlbmRlZCB3aXRoIGpRdWVyeS9TaXp6bGUgZm9yIElFNyBzdXBwb3J0XG4gICAqIEBwYXJhbSBjb250ZXh0XG4gICAqIEBwYXJhbSBzZWxcbiAgICogQHJldHVybnMge05vZGVMaXN0fEFycmF5fVxuICAgKi9cbiAgcGYucXNhID0gZnVuY3Rpb24oY29udGV4dCwgc2VsKSB7XG4gICAgcmV0dXJuICggXCJxdWVyeVNlbGVjdG9yXCIgaW4gY29udGV4dCApID8gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbCkgOiBbXTtcbiAgfTtcblxuICAvKipcbiAgICogU2hvcnRjdXQgbWV0aG9kIGZvciBtYXRjaE1lZGlhICggZm9yIGVhc3kgb3ZlcnJpZGluZyBpbiB0ZXN0cyApXG4gICAqIHdldGhlciBuYXRpdmUgb3IgcGYubU1RIGlzIHVzZWQgd2lsbCBiZSBkZWNpZGVkIGxhenkgb24gZmlyc3QgY2FsbFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHBmLm1hdGNoZXNNZWRpYSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICggd2luZG93Lm1hdGNoTWVkaWEgJiYgKG1hdGNoTWVkaWEoIFwiKG1pbi13aWR0aDogMC4xZW0pXCIgKSB8fCB7fSkubWF0Y2hlcyApIHtcbiAgICAgIHBmLm1hdGNoZXNNZWRpYSA9IGZ1bmN0aW9uKCBtZWRpYSApIHtcbiAgICAgICAgcmV0dXJuICFtZWRpYSB8fCAoIG1hdGNoTWVkaWEoIG1lZGlhICkubWF0Y2hlcyApO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGYubWF0Y2hlc01lZGlhID0gcGYubU1RO1xuICAgIH1cblxuICAgIHJldHVybiBwZi5tYXRjaGVzTWVkaWEuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIHNpbXBsaWZpZWQgbWF0Y2hNZWRpYSBpbXBsZW1lbnRhdGlvbiBmb3IgSUU4IGFuZCBJRTlcbiAgICogaGFuZGxlcyBvbmx5IG1pbi13aWR0aC9tYXgtd2lkdGggd2l0aCBweCBvciBlbSB2YWx1ZXNcbiAgICogQHBhcmFtIG1lZGlhXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgcGYubU1RID0gZnVuY3Rpb24oIG1lZGlhICkge1xuICAgIHJldHVybiBtZWRpYSA/IGV2YWxDU1MobWVkaWEpIDogdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCBsZW5ndGggaW4gY3NzIHBpeGVsIGZyb20gdGhlIGdpdmVuIHNvdXJjZVNpemVWYWx1ZVxuICAgKiBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtdmFsdWVzLTMvI2xlbmd0aC12YWx1ZVxuICAgKiBpbnRlbmRlZCBTcGVjIG1pc21hdGNoZXM6XG4gICAqICogRG9lcyBub3QgY2hlY2sgZm9yIGludmFsaWQgdXNlIG9mIENTUyBmdW5jdGlvbnNcbiAgICogKiBEb2VzIGhhbmRsZSBhIGNvbXB1dGVkIGxlbmd0aCBvZiAwIHRoZSBzYW1lIGFzIGEgbmVnYXRpdmUgYW5kIHRoZXJlZm9yZSBpbnZhbGlkIHZhbHVlXG4gICAqIEBwYXJhbSBzb3VyY2VTaXplVmFsdWVcbiAgICogQHJldHVybnMge051bWJlcn1cbiAgICovXG4gIHBmLmNhbGNMZW5ndGggPSBmdW5jdGlvbiggc291cmNlU2l6ZVZhbHVlICkge1xuXG4gICAgdmFyIHZhbHVlID0gZXZhbENTUyhzb3VyY2VTaXplVmFsdWUsIHRydWUpIHx8IGZhbHNlO1xuICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUYWtlcyBhIHR5cGUgc3RyaW5nIGFuZCBjaGVja3MgaWYgaXRzIHN1cHBvcnRlZFxuICAgKi9cblxuICBwZi5zdXBwb3J0c1R5cGUgPSBmdW5jdGlvbiggdHlwZSApIHtcbiAgICByZXR1cm4gKCB0eXBlICkgPyB0eXBlc1sgdHlwZSBdIDogdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogUGFyc2VzIGEgc291cmNlU2l6ZSBpbnRvIG1lZGlhQ29uZGl0aW9uIChtZWRpYSkgYW5kIHNvdXJjZVNpemVWYWx1ZSAobGVuZ3RoKVxuICAgKiBAcGFyYW0gc291cmNlU2l6ZVN0clxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIHBmLnBhcnNlU2l6ZSA9IG1lbW9pemUoZnVuY3Rpb24oIHNvdXJjZVNpemVTdHIgKSB7XG4gICAgdmFyIG1hdGNoID0gKCBzb3VyY2VTaXplU3RyIHx8IFwiXCIgKS5tYXRjaChyZWdTaXplKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWVkaWE6IG1hdGNoICYmIG1hdGNoWzFdLFxuICAgICAgbGVuZ3RoOiBtYXRjaCAmJiBtYXRjaFsyXVxuICAgIH07XG4gIH0pO1xuXG4gIHBmLnBhcnNlU2V0ID0gZnVuY3Rpb24oIHNldCApIHtcbiAgICBpZiAoICFzZXQuY2FuZHMgKSB7XG4gICAgICBzZXQuY2FuZHMgPSBwYXJzZVNyY3NldChzZXQuc3Jjc2V0LCBzZXQpO1xuICAgIH1cbiAgICByZXR1cm4gc2V0LmNhbmRzO1xuICB9O1xuXG4gIC8qKlxuICAgKiByZXR1cm5zIDFlbSBpbiBjc3MgcHggZm9yIGh0bWwvYm9keSBkZWZhdWx0IHNpemVcbiAgICogZnVuY3Rpb24gdGFrZW4gZnJvbSByZXNwb25kanNcbiAgICogQHJldHVybnMgeyp8bnVtYmVyfVxuICAgKi9cbiAgcGYuZ2V0RW1WYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib2R5O1xuICAgIGlmICggIWVtaW5weCAmJiAoYm9keSA9IGRvY3VtZW50LmJvZHkpICkge1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSxcbiAgICAgICAgb3JpZ2luYWxIVE1MQ1NTID0gZG9jRWxlbS5zdHlsZS5jc3NUZXh0LFxuICAgICAgICBvcmlnaW5hbEJvZHlDU1MgPSBib2R5LnN0eWxlLmNzc1RleHQ7XG5cbiAgICAgIGRpdi5zdHlsZS5jc3NUZXh0ID0gYmFzZVN0eWxlO1xuXG4gICAgICAvLyAxZW0gaW4gYSBtZWRpYSBxdWVyeSBpcyB0aGUgdmFsdWUgb2YgdGhlIGRlZmF1bHQgZm9udCBzaXplIG9mIHRoZSBicm93c2VyXG4gICAgICAvLyByZXNldCBkb2NFbGVtIGFuZCBib2R5IHRvIGVuc3VyZSB0aGUgY29ycmVjdCB2YWx1ZSBpcyByZXR1cm5lZFxuICAgICAgZG9jRWxlbS5zdHlsZS5jc3NUZXh0ID0gZnNDc3M7XG4gICAgICBib2R5LnN0eWxlLmNzc1RleHQgPSBmc0NzcztcblxuICAgICAgYm9keS5hcHBlbmRDaGlsZCggZGl2ICk7XG4gICAgICBlbWlucHggPSBkaXYub2Zmc2V0V2lkdGg7XG4gICAgICBib2R5LnJlbW92ZUNoaWxkKCBkaXYgKTtcblxuICAgICAgLy9hbHNvIHVwZGF0ZSBlbWlucHggYmVmb3JlIHJldHVybmluZ1xuICAgICAgZW1pbnB4ID0gcGFyc2VGbG9hdCggZW1pbnB4LCAxMCApO1xuXG4gICAgICAvLyByZXN0b3JlIHRoZSBvcmlnaW5hbCB2YWx1ZXNcbiAgICAgIGRvY0VsZW0uc3R5bGUuY3NzVGV4dCA9IG9yaWdpbmFsSFRNTENTUztcbiAgICAgIGJvZHkuc3R5bGUuY3NzVGV4dCA9IG9yaWdpbmFsQm9keUNTUztcblxuICAgIH1cbiAgICByZXR1cm4gZW1pbnB4IHx8IDE2O1xuICB9O1xuXG4gIC8qKlxuICAgKiBUYWtlcyBhIHN0cmluZyBvZiBzaXplcyBhbmQgcmV0dXJucyB0aGUgd2lkdGggaW4gcGl4ZWxzIGFzIGEgbnVtYmVyXG4gICAqL1xuICBwZi5jYWxjTGlzdExlbmd0aCA9IGZ1bmN0aW9uKCBzb3VyY2VTaXplTGlzdFN0ciApIHtcbiAgICAvLyBTcGxpdCB1cCBzb3VyY2Ugc2l6ZSBsaXN0LCBpZSAoIG1heC13aWR0aDogMzBlbSApIDEwMCUsICggbWF4LXdpZHRoOiA1MGVtICkgNTAlLCAzMyVcbiAgICAvL1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgKG1pbi13aWR0aDozMGVtKSBjYWxjKDMwJSAtIDE1cHgpXG4gICAgaWYgKCAhKHNvdXJjZVNpemVMaXN0U3RyIGluIHNpemVMZW5ndGhDYWNoZSkgfHwgY2ZnLnVUICkge1xuICAgICAgdmFyIHdpbm5pbmdMZW5ndGggPSBwZi5jYWxjTGVuZ3RoKCBwYXJzZVNpemVzKCBzb3VyY2VTaXplTGlzdFN0ciApICk7XG5cbiAgICAgIHNpemVMZW5ndGhDYWNoZVsgc291cmNlU2l6ZUxpc3RTdHIgXSA9ICF3aW5uaW5nTGVuZ3RoID8gdW5pdHMud2lkdGggOiB3aW5uaW5nTGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiBzaXplTGVuZ3RoQ2FjaGVbIHNvdXJjZVNpemVMaXN0U3RyIF07XG4gIH07XG5cbiAgLyoqXG4gICAqIFRha2VzIGEgY2FuZGlkYXRlIG9iamVjdCB3aXRoIGEgc3Jjc2V0IHByb3BlcnR5IGluIHRoZSBmb3JtIG9mIHVybC9cbiAgICogZXguIFwiaW1hZ2VzL3BpYy1tZWRpdW0ucG5nIDF4LCBpbWFnZXMvcGljLW1lZGl1bS0yeC5wbmcgMnhcIiBvclxuICAgKiAgICAgXCJpbWFnZXMvcGljLW1lZGl1bS5wbmcgNDAwdywgaW1hZ2VzL3BpYy1tZWRpdW0tMngucG5nIDgwMHdcIiBvclxuICAgKiAgICAgXCJpbWFnZXMvcGljLXNtYWxsLnBuZ1wiXG4gICAqIEdldCBhbiBhcnJheSBvZiBpbWFnZSBjYW5kaWRhdGVzIGluIHRoZSBmb3JtIG9mXG4gICAqICAgICAge3VybDogXCIvZm9vL2Jhci5wbmdcIiwgcmVzb2x1dGlvbjogMX1cbiAgICogd2hlcmUgcmVzb2x1dGlvbiBpcyBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtdmFsdWVzLTMvI3Jlc29sdXRpb24tdmFsdWVcbiAgICogSWYgc2l6ZXMgaXMgc3BlY2lmaWVkLCByZXMgaXMgY2FsY3VsYXRlZFxuICAgKi9cbiAgcGYuc2V0UmVzID0gZnVuY3Rpb24oIHNldCApIHtcbiAgICB2YXIgY2FuZGlkYXRlcztcbiAgICBpZiAoIHNldCApIHtcblxuICAgICAgY2FuZGlkYXRlcyA9IHBmLnBhcnNlU2V0KCBzZXQgKTtcblxuICAgICAgZm9yICggdmFyIGkgPSAwLCBsZW4gPSBjYW5kaWRhdGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgICBzZXRSZXNvbHV0aW9uKCBjYW5kaWRhdGVzWyBpIF0sIHNldC5zaXplcyApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlcztcbiAgfTtcblxuICBwZi5zZXRSZXMucmVzID0gc2V0UmVzb2x1dGlvbjtcblxuICBwZi5hcHBseVNldENhbmRpZGF0ZSA9IGZ1bmN0aW9uKCBjYW5kaWRhdGVzLCBpbWcgKSB7XG4gICAgaWYgKCAhY2FuZGlkYXRlcy5sZW5ndGggKSB7cmV0dXJuO31cbiAgICB2YXIgY2FuZGlkYXRlLFxuICAgICAgaSxcbiAgICAgIGosXG4gICAgICBsZW5ndGgsXG4gICAgICBiZXN0Q2FuZGlkYXRlLFxuICAgICAgY3VyU3JjLFxuICAgICAgY3VyQ2FuLFxuICAgICAgY2FuZGlkYXRlU3JjLFxuICAgICAgYWJvcnRDdXJTcmM7XG5cbiAgICB2YXIgaW1hZ2VEYXRhID0gaW1nWyBwZi5ucyBdO1xuICAgIHZhciBkcHIgPSBwZi5EUFI7XG5cbiAgICBjdXJTcmMgPSBpbWFnZURhdGEuY3VyU3JjIHx8IGltZ1tjdXJTcmNQcm9wXTtcblxuICAgIGN1ckNhbiA9IGltYWdlRGF0YS5jdXJDYW4gfHwgc2V0U3JjVG9DdXIoaW1nLCBjdXJTcmMsIGNhbmRpZGF0ZXNbMF0uc2V0KTtcblxuICAgIC8vIGlmIHdlIGhhdmUgYSBjdXJyZW50IHNvdXJjZSwgd2UgbWlnaHQgZWl0aGVyIGJlY29tZSBsYXp5IG9yIGdpdmUgdGhpcyBzb3VyY2Ugc29tZSBhZHZhbnRhZ2VcbiAgICBpZiAoIGN1ckNhbiAmJiBjdXJDYW4uc2V0ID09PSBjYW5kaWRhdGVzWyAwIF0uc2V0ICkge1xuXG4gICAgICAvLyBpZiBicm93c2VyIGNhbiBhYm9ydCBpbWFnZSByZXF1ZXN0IGFuZCB0aGUgaW1hZ2UgaGFzIGEgaGlnaGVyIHBpeGVsIGRlbnNpdHkgdGhhbiBuZWVkZWRcbiAgICAgIC8vIGFuZCB0aGlzIGltYWdlIGlzbid0IGRvd25sb2FkZWQgeWV0LCB3ZSBza2lwIG5leHQgcGFydCBhbmQgdHJ5IHRvIHNhdmUgYmFuZHdpZHRoXG4gICAgICBhYm9ydEN1clNyYyA9IChzdXBwb3J0QWJvcnQgJiYgIWltZy5jb21wbGV0ZSAmJiBjdXJDYW4ucmVzIC0gMC4xID4gZHByKTtcblxuICAgICAgaWYgKCAhYWJvcnRDdXJTcmMgKSB7XG4gICAgICAgIGN1ckNhbi5jYWNoZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIGlmIGN1cnJlbnQgY2FuZGlkYXRlIGlzIFwiYmVzdFwiLCBcImJldHRlclwiIG9yIFwib2theVwiLFxuICAgICAgICAvLyBzZXQgaXQgdG8gYmVzdENhbmRpZGF0ZVxuICAgICAgICBpZiAoIGN1ckNhbi5yZXMgPj0gZHByICkge1xuICAgICAgICAgIGJlc3RDYW5kaWRhdGUgPSBjdXJDYW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoICFiZXN0Q2FuZGlkYXRlICkge1xuXG4gICAgICBjYW5kaWRhdGVzLnNvcnQoIGFzY2VuZGluZ1NvcnQgKTtcblxuICAgICAgbGVuZ3RoID0gY2FuZGlkYXRlcy5sZW5ndGg7XG4gICAgICBiZXN0Q2FuZGlkYXRlID0gY2FuZGlkYXRlc1sgbGVuZ3RoIC0gMSBdO1xuXG4gICAgICBmb3IgKCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrICkge1xuICAgICAgICBjYW5kaWRhdGUgPSBjYW5kaWRhdGVzWyBpIF07XG4gICAgICAgIGlmICggY2FuZGlkYXRlLnJlcyA+PSBkcHIgKSB7XG4gICAgICAgICAgaiA9IGkgLSAxO1xuXG4gICAgICAgICAgLy8gd2UgaGF2ZSBmb3VuZCB0aGUgcGVyZmVjdCBjYW5kaWRhdGUsXG4gICAgICAgICAgLy8gYnV0IGxldCdzIGltcHJvdmUgdGhpcyBhIGxpdHRsZSBiaXQgd2l0aCBzb21lIGFzc3VtcHRpb25zIDstKVxuICAgICAgICAgIGlmIChjYW5kaWRhdGVzWyBqIF0gJiZcbiAgICAgICAgICAgIChhYm9ydEN1clNyYyB8fCBjdXJTcmMgIT09IHBmLm1ha2VVcmwoIGNhbmRpZGF0ZS51cmwgKSkgJiZcbiAgICAgICAgICAgIGNob29zZUxvd1JlcyhjYW5kaWRhdGVzWyBqIF0ucmVzLCBjYW5kaWRhdGUucmVzLCBkcHIsIGNhbmRpZGF0ZXNbIGogXS5jYWNoZWQpKSB7XG5cbiAgICAgICAgICAgIGJlc3RDYW5kaWRhdGUgPSBjYW5kaWRhdGVzWyBqIF07XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmVzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIGJlc3RDYW5kaWRhdGUgKSB7XG5cbiAgICAgIGNhbmRpZGF0ZVNyYyA9IHBmLm1ha2VVcmwoIGJlc3RDYW5kaWRhdGUudXJsICk7XG5cbiAgICAgIGltYWdlRGF0YS5jdXJTcmMgPSBjYW5kaWRhdGVTcmM7XG4gICAgICBpbWFnZURhdGEuY3VyQ2FuID0gYmVzdENhbmRpZGF0ZTtcblxuICAgICAgaWYgKCBjYW5kaWRhdGVTcmMgIT09IGN1clNyYyApIHtcbiAgICAgICAgcGYuc2V0U3JjKCBpbWcsIGJlc3RDYW5kaWRhdGUgKTtcbiAgICAgIH1cbiAgICAgIHBmLnNldFNpemUoIGltZyApO1xuICAgIH1cbiAgfTtcblxuICBwZi5zZXRTcmMgPSBmdW5jdGlvbiggaW1nLCBiZXN0Q2FuZGlkYXRlICkge1xuICAgIHZhciBvcmlnV2lkdGg7XG4gICAgaW1nLnNyYyA9IGJlc3RDYW5kaWRhdGUudXJsO1xuXG4gICAgLy8gYWx0aG91Z2ggdGhpcyBpcyBhIHNwZWNpZmljIFNhZmFyaSBpc3N1ZSwgd2UgZG9uJ3Qgd2FudCB0byB0YWtlIHRvbyBtdWNoIGRpZmZlcmVudCBjb2RlIHBhdGhzXG4gICAgaWYgKCBiZXN0Q2FuZGlkYXRlLnNldC50eXBlID09PSBcImltYWdlL3N2Zyt4bWxcIiApIHtcbiAgICAgIG9yaWdXaWR0aCA9IGltZy5zdHlsZS53aWR0aDtcbiAgICAgIGltZy5zdHlsZS53aWR0aCA9IChpbWcub2Zmc2V0V2lkdGggKyAxKSArIFwicHhcIjtcblxuICAgICAgLy8gbmV4dCBsaW5lIG9ubHkgc2hvdWxkIHRyaWdnZXIgYSByZXBhaW50XG4gICAgICAvLyBpZi4uLiBpcyBvbmx5IGRvbmUgdG8gdHJpY2sgZGVhZCBjb2RlIHJlbW92YWxcbiAgICAgIGlmICggaW1nLm9mZnNldFdpZHRoICsgMSApIHtcbiAgICAgICAgaW1nLnN0eWxlLndpZHRoID0gb3JpZ1dpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBwZi5nZXRTZXQgPSBmdW5jdGlvbiggaW1nICkge1xuICAgIHZhciBpLCBzZXQsIHN1cHBvcnRzVHlwZTtcbiAgICB2YXIgbWF0Y2ggPSBmYWxzZTtcbiAgICB2YXIgc2V0cyA9IGltZyBbIHBmLm5zIF0uc2V0cztcblxuICAgIGZvciAoIGkgPSAwOyBpIDwgc2V0cy5sZW5ndGggJiYgIW1hdGNoOyBpKysgKSB7XG4gICAgICBzZXQgPSBzZXRzW2ldO1xuXG4gICAgICBpZiAoICFzZXQuc3Jjc2V0IHx8ICFwZi5tYXRjaGVzTWVkaWEoIHNldC5tZWRpYSApIHx8ICEoc3VwcG9ydHNUeXBlID0gcGYuc3VwcG9ydHNUeXBlKCBzZXQudHlwZSApKSApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICggc3VwcG9ydHNUeXBlID09PSBcInBlbmRpbmdcIiApIHtcbiAgICAgICAgc2V0ID0gc3VwcG9ydHNUeXBlO1xuICAgICAgfVxuXG4gICAgICBtYXRjaCA9IHNldDtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaDtcbiAgfTtcblxuICBwZi5wYXJzZVNldHMgPSBmdW5jdGlvbiggZWxlbWVudCwgcGFyZW50LCBvcHRpb25zICkge1xuICAgIHZhciBzcmNzZXRBdHRyaWJ1dGUsIGltYWdlU2V0LCBpc1dEZXNjcmlwb3IsIHNyY3NldFBhcnNlZDtcblxuICAgIHZhciBoYXNQaWN0dXJlID0gcGFyZW50ICYmIHBhcmVudC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIlBJQ1RVUkVcIjtcbiAgICB2YXIgaW1hZ2VEYXRhID0gZWxlbWVudFsgcGYubnMgXTtcblxuICAgIGlmICggaW1hZ2VEYXRhLnNyYyA9PT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMuc3JjICkge1xuICAgICAgaW1hZ2VEYXRhLnNyYyA9IGdldEltZ0F0dHIuY2FsbCggZWxlbWVudCwgXCJzcmNcIiApO1xuICAgICAgaWYgKCBpbWFnZURhdGEuc3JjICkge1xuICAgICAgICBzZXRJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIHNyY0F0dHIsIGltYWdlRGF0YS5zcmMgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUltZ0F0dHIuY2FsbCggZWxlbWVudCwgc3JjQXR0ciApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICggaW1hZ2VEYXRhLnNyY3NldCA9PT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMuc3Jjc2V0IHx8ICFwZi5zdXBTcmNzZXQgfHwgZWxlbWVudC5zcmNzZXQgKSB7XG4gICAgICBzcmNzZXRBdHRyaWJ1dGUgPSBnZXRJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIFwic3Jjc2V0XCIgKTtcbiAgICAgIGltYWdlRGF0YS5zcmNzZXQgPSBzcmNzZXRBdHRyaWJ1dGU7XG4gICAgICBzcmNzZXRQYXJzZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGltYWdlRGF0YS5zZXRzID0gW107XG5cbiAgICBpZiAoIGhhc1BpY3R1cmUgKSB7XG4gICAgICBpbWFnZURhdGEucGljID0gdHJ1ZTtcbiAgICAgIGdldEFsbFNvdXJjZUVsZW1lbnRzKCBwYXJlbnQsIGltYWdlRGF0YS5zZXRzICk7XG4gICAgfVxuXG4gICAgaWYgKCBpbWFnZURhdGEuc3Jjc2V0ICkge1xuICAgICAgaW1hZ2VTZXQgPSB7XG4gICAgICAgIHNyY3NldDogaW1hZ2VEYXRhLnNyY3NldCxcbiAgICAgICAgc2l6ZXM6IGdldEltZ0F0dHIuY2FsbCggZWxlbWVudCwgXCJzaXplc1wiIClcbiAgICAgIH07XG5cbiAgICAgIGltYWdlRGF0YS5zZXRzLnB1c2goIGltYWdlU2V0ICk7XG5cbiAgICAgIGlzV0Rlc2NyaXBvciA9IChhbHdheXNDaGVja1dEZXNjcmlwdG9yIHx8IGltYWdlRGF0YS5zcmMpICYmIHJlZ1dEZXNjLnRlc3QoaW1hZ2VEYXRhLnNyY3NldCB8fCBcIlwiKTtcblxuICAgICAgLy8gYWRkIG5vcm1hbCBzcmMgYXMgY2FuZGlkYXRlLCBpZiBzb3VyY2UgaGFzIG5vIHcgZGVzY3JpcHRvclxuICAgICAgaWYgKCAhaXNXRGVzY3JpcG9yICYmIGltYWdlRGF0YS5zcmMgJiYgIWdldENhbmRpZGF0ZUZvclNyYyhpbWFnZURhdGEuc3JjLCBpbWFnZVNldCkgJiYgIWltYWdlU2V0LmhhczF4ICkge1xuICAgICAgICBpbWFnZVNldC5zcmNzZXQgKz0gXCIsIFwiICsgaW1hZ2VEYXRhLnNyYztcbiAgICAgICAgaW1hZ2VTZXQuY2FuZHMucHVzaCh7XG4gICAgICAgICAgdXJsOiBpbWFnZURhdGEuc3JjLFxuICAgICAgICAgIGQ6IDEsXG4gICAgICAgICAgc2V0OiBpbWFnZVNldFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoIGltYWdlRGF0YS5zcmMgKSB7XG4gICAgICBpbWFnZURhdGEuc2V0cy5wdXNoKCB7XG4gICAgICAgIHNyY3NldDogaW1hZ2VEYXRhLnNyYyxcbiAgICAgICAgc2l6ZXM6IG51bGxcbiAgICAgIH0gKTtcbiAgICB9XG5cbiAgICBpbWFnZURhdGEuY3VyQ2FuID0gbnVsbDtcbiAgICBpbWFnZURhdGEuY3VyU3JjID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gaWYgaW1nIGhhcyBwaWN0dXJlIG9yIHRoZSBzcmNzZXQgd2FzIHJlbW92ZWQgb3IgaGFzIGEgc3Jjc2V0IGFuZCBkb2VzIG5vdCBzdXBwb3J0IHNyY3NldCBhdCBhbGxcbiAgICAvLyBvciBoYXMgYSB3IGRlc2NyaXB0b3IgKGFuZCBkb2VzIG5vdCBzdXBwb3J0IHNpemVzKSBzZXQgc3VwcG9ydCB0byBmYWxzZSB0byBldmFsdWF0ZVxuICAgIGltYWdlRGF0YS5zdXBwb3J0ZWQgPSAhKCBoYXNQaWN0dXJlIHx8ICggaW1hZ2VTZXQgJiYgIXBmLnN1cFNyY3NldCApIHx8IChpc1dEZXNjcmlwb3IgJiYgIXBmLnN1cFNpemVzKSApO1xuXG4gICAgaWYgKCBzcmNzZXRQYXJzZWQgJiYgcGYuc3VwU3Jjc2V0ICYmICFpbWFnZURhdGEuc3VwcG9ydGVkICkge1xuICAgICAgaWYgKCBzcmNzZXRBdHRyaWJ1dGUgKSB7XG4gICAgICAgIHNldEltZ0F0dHIuY2FsbCggZWxlbWVudCwgc3Jjc2V0QXR0ciwgc3Jjc2V0QXR0cmlidXRlICk7XG4gICAgICAgIGVsZW1lbnQuc3Jjc2V0ID0gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUltZ0F0dHIuY2FsbCggZWxlbWVudCwgc3Jjc2V0QXR0ciApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbWFnZURhdGEuc3VwcG9ydGVkICYmICFpbWFnZURhdGEuc3Jjc2V0ICYmICgoIWltYWdlRGF0YS5zcmMgJiYgZWxlbWVudC5zcmMpIHx8ICBlbGVtZW50LnNyYyAhPT0gcGYubWFrZVVybChpbWFnZURhdGEuc3JjKSkpIHtcbiAgICAgIGlmIChpbWFnZURhdGEuc3JjID09PSBudWxsKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5zcmMgPSBpbWFnZURhdGEuc3JjO1xuICAgICAgfVxuICAgIH1cblxuICAgIGltYWdlRGF0YS5wYXJzZWQgPSB0cnVlO1xuICB9O1xuXG4gIHBmLmZpbGxJbWcgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdmFyIGltYWdlRGF0YTtcbiAgICB2YXIgZXh0cmVtZSA9IG9wdGlvbnMucmVzZWxlY3QgfHwgb3B0aW9ucy5yZWV2YWx1YXRlO1xuXG4gICAgLy8gZXhwYW5kbyBmb3IgY2FjaGluZyBkYXRhIG9uIHRoZSBpbWdcbiAgICBpZiAoICFlbGVtZW50WyBwZi5ucyBdICkge1xuICAgICAgZWxlbWVudFsgcGYubnMgXSA9IHt9O1xuICAgIH1cblxuICAgIGltYWdlRGF0YSA9IGVsZW1lbnRbIHBmLm5zIF07XG5cbiAgICAvLyBpZiB0aGUgZWxlbWVudCBoYXMgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZCwgc2tpcCBpdFxuICAgIC8vIHVubGVzcyBgb3B0aW9ucy5yZWV2YWx1YXRlYCBpcyBzZXQgdG8gdHJ1ZSAoIHRoaXMsIGZvciBleGFtcGxlLFxuICAgIC8vIGlzIHNldCB0byB0cnVlIHdoZW4gcnVubmluZyBgcGljdHVyZWZpbGxgIG9uIGByZXNpemVgICkuXG4gICAgaWYgKCAhZXh0cmVtZSAmJiBpbWFnZURhdGEuZXZhbGVkID09PSBldmFsSWQgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCAhaW1hZ2VEYXRhLnBhcnNlZCB8fCBvcHRpb25zLnJlZXZhbHVhdGUgKSB7XG4gICAgICBwZi5wYXJzZVNldHMoIGVsZW1lbnQsIGVsZW1lbnQucGFyZW50Tm9kZSwgb3B0aW9ucyApO1xuICAgIH1cblxuICAgIGlmICggIWltYWdlRGF0YS5zdXBwb3J0ZWQgKSB7XG4gICAgICBhcHBseUJlc3RDYW5kaWRhdGUoIGVsZW1lbnQgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW1hZ2VEYXRhLmV2YWxlZCA9IGV2YWxJZDtcbiAgICB9XG4gIH07XG5cbiAgcGYuc2V0dXBSdW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoICFhbHJlYWR5UnVuIHx8IGlzVndEaXJ0eSB8fCAoRFBSICE9PSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykgKSB7XG4gICAgICB1cGRhdGVNZXRyaWNzKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIElmIHBpY3R1cmUgaXMgc3VwcG9ydGVkLCB3ZWxsLCB0aGF0J3MgYXdlc29tZS5cbiAgaWYgKCBwZi5zdXBQaWN0dXJlICkge1xuICAgIHBpY3R1cmVmaWxsID0gbm9vcDtcbiAgICBwZi5maWxsSW1nID0gbm9vcDtcbiAgfSBlbHNlIHtcblxuICAgIC8vIFNldCB1cCBwaWN0dXJlIHBvbHlmaWxsIGJ5IHBvbGxpbmcgdGhlIGRvY3VtZW50XG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlzRG9tUmVhZHk7XG4gICAgICB2YXIgcmVnUmVhZHkgPSB3aW5kb3cuYXR0YWNoRXZlbnQgPyAvZCR8XmMvIDogL2QkfF5jfF5pLztcblxuICAgICAgdmFyIHJ1biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVhZHlTdGF0ZSA9IGRvY3VtZW50LnJlYWR5U3RhdGUgfHwgXCJcIjtcblxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dChydW4sIHJlYWR5U3RhdGUgPT09IFwibG9hZGluZ1wiID8gMjAwIDogIDk5OSk7XG4gICAgICAgIGlmICggZG9jdW1lbnQuYm9keSApIHtcbiAgICAgICAgICBwZi5maWxsSW1ncygpO1xuICAgICAgICAgIGlzRG9tUmVhZHkgPSBpc0RvbVJlYWR5IHx8IHJlZ1JlYWR5LnRlc3QocmVhZHlTdGF0ZSk7XG4gICAgICAgICAgaWYgKCBpc0RvbVJlYWR5ICkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCB0aW1lcklkICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciB0aW1lcklkID0gc2V0VGltZW91dChydW4sIGRvY3VtZW50LmJvZHkgPyA5IDogOTkpO1xuXG4gICAgICAvLyBBbHNvIGF0dGFjaCBwaWN0dXJlZmlsbCBvbiByZXNpemUgYW5kIHJlYWR5c3RhdGVjaGFuZ2VcbiAgICAgIC8vIGh0dHA6Ly9tb2Rlcm5qYXZhc2NyaXB0LmJsb2dzcG90LmNvbS8yMDEzLzA4L2J1aWxkaW5nLWJldHRlci1kZWJvdW5jZS5odG1sXG4gICAgICB2YXIgZGVib3VuY2UgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgICAgIHZhciB0aW1lb3V0LCB0aW1lc3RhbXA7XG4gICAgICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBsYXN0ID0gKG5ldyBEYXRlKCkpIC0gdGltZXN0YW1wO1xuXG4gICAgICAgICAgaWYgKGxhc3QgPCB3YWl0KSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIGZ1bmMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgdmFyIGxhc3RDbGllbnRXaWR0aCA9IGRvY0VsZW0uY2xpZW50SGVpZ2h0O1xuICAgICAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzVndEaXJ0eSA9IE1hdGgubWF4KHdpbmRvdy5pbm5lcldpZHRoIHx8IDAsIGRvY0VsZW0uY2xpZW50V2lkdGgpICE9PSB1bml0cy53aWR0aCB8fCBkb2NFbGVtLmNsaWVudEhlaWdodCAhPT0gbGFzdENsaWVudFdpZHRoO1xuICAgICAgICBsYXN0Q2xpZW50V2lkdGggPSBkb2NFbGVtLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKCBpc1Z3RGlydHkgKSB7XG4gICAgICAgICAgcGYuZmlsbEltZ3MoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgb24oIHdpbmRvdywgXCJyZXNpemVcIiwgZGVib3VuY2Uob25SZXNpemUsIDk5ICkgKTtcbiAgICAgIG9uKCBkb2N1bWVudCwgXCJyZWFkeXN0YXRlY2hhbmdlXCIsIHJ1biApO1xuICAgIH0pKCk7XG4gIH1cblxuICBwZi5waWN0dXJlZmlsbCA9IHBpY3R1cmVmaWxsO1xuICAvL3VzZSB0aGlzIGludGVybmFsbHkgZm9yIGVhc3kgbW9ua2V5IHBhdGNoaW5nL3BlcmZvcm1hbmNlIHRlc3RpbmdcbiAgcGYuZmlsbEltZ3MgPSBwaWN0dXJlZmlsbDtcbiAgcGYudGVhcmRvd25SdW4gPSBub29wO1xuXG4gIC8qIGV4cG9zZSBtZXRob2RzIGZvciB0ZXN0aW5nICovXG4gIHBpY3R1cmVmaWxsLl8gPSBwZjtcblxuICB3aW5kb3cucGljdHVyZWZpbGxDRkcgPSB7XG4gICAgcGY6IHBmLFxuICAgIHB1c2g6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIHZhciBuYW1lID0gYXJncy5zaGlmdCgpO1xuICAgICAgaWYgKHR5cGVvZiBwZltuYW1lXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHBmW25hbWVdLmFwcGx5KHBmLCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNmZ1tuYW1lXSA9IGFyZ3NbMF07XG4gICAgICAgIGlmIChhbHJlYWR5UnVuKSB7XG4gICAgICAgICAgcGYuZmlsbEltZ3MoIHsgcmVzZWxlY3Q6IHRydWUgfSApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHdoaWxlIChzZXRPcHRpb25zICYmIHNldE9wdGlvbnMubGVuZ3RoKSB7XG4gICAgd2luZG93LnBpY3R1cmVmaWxsQ0ZHLnB1c2goc2V0T3B0aW9ucy5zaGlmdCgpKTtcbiAgfVxuXG4gIC8qIGV4cG9zZSBwaWN0dXJlZmlsbCAqL1xuICB3aW5kb3cucGljdHVyZWZpbGwgPSBwaWN0dXJlZmlsbDtcblxuICAvKiBleHBvc2UgcGljdHVyZWZpbGwgKi9cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcbiAgICAvLyBDb21tb25KUywganVzdCBleHBvcnRcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHBpY3R1cmVmaWxsO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTUQgc3VwcG9ydFxuICAgIGRlZmluZSggXCJwaWN0dXJlZmlsbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBpY3R1cmVmaWxsOyB9ICk7XG4gIH1cblxuICAvLyBJRTggZXZhbHMgdGhpcyBzeW5jLCBzbyBpdCBtdXN0IGJlIHRoZSBsYXN0IHRoaW5nIHdlIGRvXG4gIGlmICggIXBmLnN1cFBpY3R1cmUgKSB7XG4gICAgdHlwZXNbIFwiaW1hZ2Uvd2VicFwiIF0gPSBkZXRlY3RUeXBlU3VwcG9ydChcImltYWdlL3dlYnBcIiwgXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSa29BQUFCWFJVSlFWbEE0V0FvQUFBQVFBQUFBQUFBQUFBQUFRVXhRU0F3QUFBQUJCeEFSL1E5RVJQOERBQUJXVURnZ0dBQUFBREFCQUowQktnRUFBUUFEQURRbHBBQURjQUQrKy8xUUFBPT1cIiApO1xuICB9XG5cbn0gKSggd2luZG93LCBkb2N1bWVudCApO1xuIl19
